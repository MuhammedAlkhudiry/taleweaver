(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,i){},16:function(e,t,i){},18:function(e,t,i){"use strict";i.r(t);var n=i(5),a=i.n(n),s=i(7),r=i.n(s),u=(i(14),i(0)),o=i(1),l=i(3),c=i(2),m=i(4),d=(i(16),function(){function e(){Object(u.a)(this,e),this.children=[]}return Object(o.a)(e,[{key:"appendChild",value:function(e){this.children.push(e)}},{key:"removeChild",value:function(e){var t=this.children.indexOf(e);t<0||this.children.splice(t,1)}},{key:"getChildren",value:function(){return this.children}},{key:"getChildAt",value:function(e){for(var t=0,i=0,n=this.children.length;i<n;i++)if((t+=this.children[i].getSize())>e)return this.children[i];return null}},{key:"getSize",value:function(){var e=0;return this.children.forEach(function(t){e+=t.getSize()}),e}}]),e}()),h=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"getType",value:function(){return"Paragraph"}}]),t}(function(){function e(){Object(u.a)(this,e),this.children=[]}return Object(o.a)(e,[{key:"setParent",value:function(e){this.parent=e}},{key:"getParent",value:function(){return this.parent}},{key:"appendChild",value:function(e){this.children.push(e)}},{key:"removeChild",value:function(e){var t=this.children.indexOf(e);t<0||this.children.splice(t,1)}},{key:"getChildren",value:function(){return this.children}},{key:"getChildAt",value:function(e){for(var t=0,i=0,n=this.children.length;i<n;i++)if((t+=this.children[i].getSize())>e)return this.children[i];return null}},{key:"getSize",value:function(){var e=0;return this.children.forEach(function(t){e+=t.getSize()}),e}}]),e}()),p=function(){function e(){Object(u.a)(this,e)}return Object(o.a)(e,[{key:"setParent",value:function(e){this.parent=e}},{key:"getParent",value:function(){return this.parent}},{key:"setText",value:function(e){this.text=e}},{key:"getText",value:function(){return this.text}}]),e}(),g=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"getType",value:function(){return"Text"}}]),t}(function(){function e(t){Object(u.a)(this,e),this.inlineElement=t}return Object(o.a)(e,[{key:"getInlineElement",value:function(){return this.inlineElement}},{key:"setText",value:function(e){this.text=e}},{key:"getText",value:function(){return this.text}},{key:"getSize",value:function(){return this.text.length}}]),e}()),v=[" ","\t","-"],f=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"getType",value:function(){return"Text"}},{key:"getSize",value:function(){return this.text.length}},{key:"getWords",value:function(){for(var e=[],t=this.getText(),i=0,n=0,a=t.length;n<a;n++){var s=t[n];if(v.indexOf(s)>=0){var r=new g(this);r.setText(t.substring(i,n+1)),e.push(r),i=n+1}}if(i!==n){var u=new g(this);u.setText(t.substring(i,n+1)),e.push(u)}return e}}]),t}(p);var w=function(){function e(t,i,n){var a=this;Object(u.a)(this,e),this.handleSelectStart=function(e){e.preventDefault()},this.handleMouseDown=function(e){var t=a.resolveScreenPosition(e.pageX,e.pageY);a.eventHandlers.onPointerDown({pageView:a,pageViewPosition:t})},this.handleMouseMove=function(e,t){var i,n;return function(){for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];n?(clearTimeout(i),i=setTimeout(function(){e.apply(void 0,s),n=Date.now()},t-(Date.now()-n))):(e.apply(void 0,s),n=Date.now())}}(function(e){var t=a.resolveScreenPosition(e.pageX,e.pageY);a.eventHandlers.onPointerMove({pageView:a,pageViewPosition:t})},5),this.handleMouseUp=function(e){var t=a.resolveScreenPosition(e.pageX,e.pageY);a.eventHandlers.onPointerUp({pageView:a,pageViewPosition:t})},this.documentView=t,this.eventHandlers=i,this.config=n,this.lineViews=[]}return Object(o.a)(e,[{key:"resolveScreenPosition",value:function(e,t){for(var i,n=this.config.width-this.config.paddingLeft-this.config.paddingRight,a=this.config.height-this.config.paddingTop-this.config.paddingBottom,s=Math.min(n,Math.max(0,e-this.domElement.offsetLeft-this.config.paddingLeft)),r=Math.min(a,Math.max(0,t-this.domElement.offsetTop-this.config.paddingTop)),u=0,o=0,l=0,c=this.lineViews.length;l<c;l++){var m=(i=this.lineViews[l]).getHeight();if(u+m>r)break;u+=m,o+=i.getSize()}if(0===s)return o;for(var d,h=i.getWordViews(),p=0,g=0,v=h.length;g<v;g++){var f=(d=h[g]).getWidth();if(p+f>=s)break;p+=f,o+=d.getSize()}return g===h.length?p>0?o-1:o:o+=d.getDocumentPosition(s-p)}},{key:"getDocumentView",value:function(){return this.documentView}},{key:"getConfig",value:function(){return this.config}},{key:"appendLineView",value:function(e){this.lineViews.push(e),e.setPageView(this)}},{key:"removeLineView",value:function(e){var t=this.lineViews.indexOf(e);t<0||this.lineViews.splice(t,1)}},{key:"getLineViews",value:function(){return this.lineViews}},{key:"getSize",value:function(){var e=0;return this.lineViews.forEach(function(t){return e+=t.getSize()}),e}},{key:"bindToDOM",value:function(){if(!this.domElement){var e=this.getDocumentView().getDOMElement();this.domElement=document.createElement("div"),this.domElement.className="tw--page",this.domElement.style.position="relative",this.domElement.style.width="".concat(this.config.width,"px"),this.domElement.style.height="".concat(this.config.height,"px"),this.domElement.style.padding="".concat(this.config.paddingTop,"px ").concat(this.config.paddingRight,"px ").concat(this.config.paddingBottom,"px ").concat(this.config.paddingLeft,"px"),this.domElement.style.userSelect="none",this.domElement.addEventListener("selectstart",this.handleSelectStart),this.domElement.addEventListener("mousedown",this.handleMouseDown),this.domElement.addEventListener("mousemove",this.handleMouseMove),this.domElement.addEventListener("mouseup",this.handleMouseUp),this.lineViews.forEach(function(e){return e.bindToDOM()}),e.appendChild(this.domElement)}}},{key:"getDOMElement",value:function(){return this.domElement}},{key:"getScreenSelection",value:function(e,t){if(e<0||e>this.getSize())throw new Error("Page position out of bound: ".concat(e,"."));if(t<0||t>this.getSize())throw new Error("Page position out of bound: ".concat(t,"."));if(e>t)throw new Error("Page from position cannot be greater than to position.");var i=this.getSize();if(e>=i||t>=i)throw new Error("Page screen positions cannot be determined for range from ".concat(e," to ").concat(t,"."));for(var n=[],a=this.lineViews.length-1;a>=0;a--){var s=this.lineViews[a];if((i-=s.getSize())<=t){var r=Math.max(e-i,0),u=Math.min(t-i,s.getSize()-1),o=s.getScreenSelection(r,u),l=this.lineViews.slice(0,a).reduce(function(e,t){return e+t.getHeight()},0);n.push({x1:o.x1,x2:o.x2,y1:l,y2:l+o.height})}if(i<=e)return n}throw new Error("Page screen positions cannot be determined for range from ".concat(e," to ").concat(t,"."))}}]),e}(),b=function(){function e(){Object(u.a)(this,e),this.steps=[],this.steps=[]}return Object(o.a)(e,[{key:"addStep",value:function(e){this.steps.push(e)}},{key:"getSteps",value:function(){return this.steps}}]),e}(),y=function(){function e(t){Object(u.a)(this,e),this.displacement=t}return Object(o.a)(e,[{key:"getType",value:function(){return"TranslateCursor"}},{key:"getDisplacement",value:function(){return this.displacement}}]),e}();function E(){return function(e){var t=new b,i=e.getState().getEditorCursor();if(!i)return t;var n=i.getHead(),a=e.getDocumentView().getLineStartPosition(n);return t.addStep(new y(a-n)),t}}function C(){return function(e){var t=new b,i=e.getState().getEditorCursor();if(!i)return t;var n=i.getHead(),a=e.getDocumentView().getLineEndPosition(n);return t.addStep(new y(a-n)),t}}var S=function(){function e(t){Object(u.a)(this,e),this.displacement=t}return Object(o.a)(e,[{key:"getType",value:function(){return"TranslateCursorHead"}},{key:"getDisplacement",value:function(){return this.displacement}}]),e}();function V(e){return function(t){var i=new b,n=t.getState().getEditorCursor();return n?(i.addStep(new S(e-n.getHead())),i):i}}function x(){return function(e){var t=new b,i=e.getState().getEditorCursor();if(!i)return t;var n=i.getHead(),a=e.getDocumentView().getLineStartPosition(n);return t.addStep(new S(a-n)),t}}function q(){return function(e){var t=new b,i=e.getState().getEditorCursor();if(!i)return t;var n=i.getHead(),a=e.getDocumentView().getLineEndPosition(n);return t.addStep(new S(a-n)),t}}var k=function(){function e(t,i){Object(u.a)(this,e),this.taleWeaver=t,this.editorCursor=i,this.selectionDOMElements=[],this.selecting=!1,this.blinkState=!1,this.blinkInterval=null}return Object(o.a)(e,[{key:"render",value:function(){this.renderHead(),this.renderSelections()}},{key:"renderHead",value:function(){var e=this.editorCursor.getHead(),t=this.documentView.getScreenSelection(e,e)[0],i=t.pageView,n=t.pageViewScreenSelection,a=this.headDOMElement;a.style.left="".concat(n[0].x1+i.getConfig().paddingLeft,"px"),a.style.top="".concat(n[0].y1+i.getConfig().paddingTop,"px"),a.style.height="".concat(n[0].y2-n[0].y1,"px");var s=i.getDOMElement();a.parentElement&&a.parentElement!==s&&a.parentElement.removeChild(a),a.parentElement||s.appendChild(a)}},{key:"renderSelections",value:function(){var e=this,t=this.editorCursor,i=t.getAnchor(),n=t.getHead(),a=Math.min(i,n),s=Math.max(i,n),r=this.documentView.getScreenSelection(a,s),u=0;for(r.forEach(function(e){var t=e.pageViewScreenSelection;u+=t.length});this.selectionDOMElements.length>u;){var o=this.selectionDOMElements.pop();o.parentElement.removeChild(o)}for(;this.selectionDOMElements.length<u;){var l=document.createElement("div");l.className="tw--editor-cursor-selection",l.style.position="absolute",l.style.background="hsla(217, 100%, 65%, 0.25)",this.selectionDOMElements.push(l)}var c=0;r.forEach(function(t){var i=t.pageView,n=t.pageViewScreenSelection,a=i.getDOMElement();n.forEach(function(t){var n=e.selectionDOMElements[c];n.style.left="".concat(t.x1+i.getConfig().paddingLeft,"px"),n.style.width="".concat(t.x2-t.x1,"px"),n.style.top="".concat(t.y1+i.getConfig().paddingTop,"px"),n.style.height="".concat(t.y2-t.y1,"px"),n.style.pointerEvents="none",n.parentElement&&n.parentElement!==a&&n.parentElement.removeChild(n),n.parentElement||a.appendChild(n),c++})})}},{key:"setDocumentView",value:function(e){this.documentView=e}},{key:"bindToDOM",value:function(){var e=this;this.headDOMElement||(this.headDOMElement=document.createElement("div"),this.headDOMElement.className="tw--editor-cursor-head",this.headDOMElement.style.position="absolute",this.headDOMElement.style.width="2px",this.headDOMElement.style.marginLeft="-1px",this.headDOMElement.style.background="hsla(217, 100%, 65%, 1)",this.headDOMElement.style.visibility="hidden"),this.render(),this.startBlinking(),this.editorCursor.observe(function(){e.render(),null!==e.blinkInterval&&(e.stopBlinking(),e.startBlinking())})}},{key:"getEditorCursor",value:function(){return this.editorCursor}},{key:"getDocumentView",value:function(){return this.documentView}},{key:"startBlinking",value:function(){var e=this;null===this.blinkInterval&&(this.blinkInterval=setInterval(function(){e.blinkState?e.headDOMElement.style.visibility="hidden":e.headDOMElement.style.visibility="visible",e.blinkState=!e.blinkState},500))}},{key:"stopBlinking",value:function(){null!==this.blinkInterval&&(this.blinkState=!0,this.headDOMElement.style.visibility="visible",clearInterval(this.blinkInterval),this.blinkInterval=null)}},{key:"beginSelect",value:function(e){this.taleWeaver.getState().applyEditorCursorTransformation(function(e){return function(t){var i=new b,n=t.getState().getEditorCursor();return n?(i.addStep(new y(e-n.getHead())),i):i}}(e)(this.taleWeaver)),this.selecting=!0,this.stopBlinking()}},{key:"moveSelect",value:function(e){this.selecting&&this.taleWeaver.getState().applyEditorCursorTransformation(V(e)(this.taleWeaver))}},{key:"endSelect",value:function(e){this.taleWeaver.getState().applyEditorCursorTransformation(V(e)(this.taleWeaver)),this.selecting=!1,this.startBlinking()}}]),e}(),P=function(){function e(){Object(u.a)(this,e),this.selectionDOMElements=[]}return Object(o.a)(e,[{key:"render",value:function(){this.renderHead(),this.renderSelections()}},{key:"renderHead",value:function(){var e=this.observerCursor.getHead(),t=this.documentView.getScreenSelection(e,e)[0],i=t.pageView,n=t.pageViewScreenSelection,a=this.headDOMElement;a.style.left="".concat(n[0].x1+i.getConfig().paddingLeft,"px"),a.style.top="".concat(n[0].y1+i.getConfig().paddingTop,"px"),a.style.height="".concat(n[0].y2-n[0].y1,"px");var s=i.getDOMElement();a.parentElement&&a.parentElement!==s&&a.parentElement.removeChild(a),a.parentElement||s.appendChild(a)}},{key:"renderSelections",value:function(){var e=this,t=this.observerCursor,i=t.getAnchor(),n=t.getHead(),a=Math.min(i,n),s=Math.max(i,n),r=this.documentView.getScreenSelection(a,s),u=0;for(r.forEach(function(e){var t=e.pageViewScreenSelection;u+=t.length});this.selectionDOMElements.length>u;)this.selectionDOMElements.pop();for(;this.selectionDOMElements.length<u;){var o=document.createElement("div");o.className="tw--observer-cursor-selection",o.style.position="absolute",o.style.background="hsla(130, 100%, 65%, 0.25)",this.selectionDOMElements.push(o)}var l=0;r.forEach(function(t){var i=t.pageView,n=t.pageViewScreenSelection,a=i.getDOMElement();n.forEach(function(t){var n=e.selectionDOMElements[l];n.style.left="".concat(t.x1+i.getConfig().paddingLeft,"px"),n.style.width="".concat(t.x2-t.x1,"px"),n.style.top="".concat(t.y1+i.getConfig().paddingTop,"px"),n.style.height="".concat(t.y2-t.y1,"px"),n.style.pointerEvents="none",n.parentElement&&n.parentElement!==a&&n.parentElement.removeChild(n),n.parentElement||a.appendChild(n),l++})})}},{key:"setObserverCursor",value:function(e){this.observerCursor=e}},{key:"setDocumentView",value:function(e){this.documentView=e}},{key:"bindToDOM",value:function(){this.headDOMElement||(this.headDOMElement=document.createElement("div"),this.headDOMElement.className="tw--observer-cursor-head",this.headDOMElement.style.position="absolute",this.headDOMElement.style.width="2px",this.headDOMElement.style.marginLeft="-1px",this.headDOMElement.style.background="hsla(130, 100%, 65%, 1)"),this.render()}},{key:"getObserverCursor",value:function(){return this.observerCursor}},{key:"getDocumentView",value:function(){return this.documentView}}]),e}(),O=function e(t,i,n,a){Object(u.a)(this,e),this.key=t,this.shift=i,this.meta=n,this.alt=a},D=function(){function e(t,i,n){var a=this;Object(u.a)(this,e),this.resolvePageViewPosition=function(e,t){for(var i=0,n=0,s=a.pageViews.length;n<s;n++){var r=a.pageViews[n];if(r===t)break;i+=r.getSize()}return i+e},this.handlePointerDownOnPage=function(e){if(a.editorCursorView){var t=a.resolvePageViewPosition(e.pageViewPosition,e.pageView);a.editorCursorView.beginSelect(t)}},this.handlePointerMoveOnPage=function(e){if(a.editorCursorView){var t=a.resolvePageViewPosition(e.pageViewPosition,e.pageView);a.editorCursorView.moveSelect(t)}},this.handlePointerUpOnPage=function(e){if(a.editorCursorView){var t=a.resolvePageViewPosition(e.pageViewPosition,e.pageView);a.editorCursorView.endSelect(t)}},this.handleKeyDown=function(e){a.taleWeaver.getState().dispatchEvent(new O(e.key,e.shiftKey,e.metaKey,e.altKey)),e.preventDefault()},this.handleKeyUp=function(e){},this.taleWeaver=t,this.documentElement=i,this.config=n,this.wordViewBlocks=[],this.lineViews=[],this.pageViews=[],this.editorCursorView=null,this.observerCursorViews=[],this.buildWordViewBlocks(),this.buildLineViews(),this.buildPageViews(),this.buildEditorCursorView(),this.buildObserverCursorViews()}return Object(o.a)(e,[{key:"buildWordViewBlocks",value:function(){var e=this,t=this.taleWeaver.getRegistry();this.wordViewBlocks.length=0,this.documentElement.getChildren().forEach(function(i){var n={blockElement:i,wordViews:[]};i.getChildren().forEach(function(e){e.getWords().forEach(function(e){var i=new(t.getWordViewClass(e.getType()));i.setWord(e),n.wordViews.push(i)})}),e.wordViewBlocks.push(n)})}},{key:"buildLineViews",value:function(){var e=this;this.lineViews.length=0;var t=this.taleWeaver.getRegistry(),i=this.config.pageWidth-this.config.pagePaddingLeft-this.config.pagePaddingRight;this.wordViewBlocks.forEach(function(n){var a=t.getLineViewClass(n.blockElement.getType()),s=new a({width:e.config.pageWidth-e.config.pagePaddingLeft-e.config.pagePaddingRight});e.lineViews.push(s);var r=0;n.wordViews.forEach(function(t){r+t.getWidth()>i&&(s=new a({width:e.config.pageWidth-e.config.pagePaddingLeft-e.config.pagePaddingRight}),e.lineViews.push(s),r=0),t.setLineView(s),s.appendWordView(t),r+=t.getWidth()})})}},{key:"buildPageViews",value:function(){var e=this;this.pageViews.length=0;var t={width:this.config.pageWidth,height:this.config.pageHeight,paddingTop:this.config.pagePaddingTop,paddingBottom:this.config.pagePaddingBottom,paddingLeft:this.config.pagePaddingLeft,paddingRight:this.config.pagePaddingRight},i=new w(this,{onPointerDown:this.handlePointerDownOnPage,onPointerMove:this.handlePointerMoveOnPage,onPointerUp:this.handlePointerUpOnPage},t);this.pageViews.push(i);var n=0,a=this.config.pageHeight-this.config.pagePaddingTop-this.config.pagePaddingBottom;this.lineViews.forEach(function(s){n+s.getHeight()>a&&(i=new w(e,{onPointerDown:e.handlePointerDownOnPage,onPointerMove:e.handlePointerMoveOnPage,onPointerUp:e.handlePointerUpOnPage},t),e.pageViews.push(i),n=0),s.setPageView(i),i.appendLineView(s),n+=s.getHeight()})}},{key:"buildEditorCursorView",value:function(){var e=this.taleWeaver.getState().getEditorCursor();e&&(this.editorCursorView=new k(this.taleWeaver,e),this.editorCursorView.setDocumentView(this))}},{key:"buildObserverCursorViews",value:function(){var e=this;this.taleWeaver.getState().getObserverCursors().forEach(function(t){var i=new P;i.setObserverCursor(t),i.setDocumentView(e),e.observerCursorViews.push(i)})}},{key:"bindToDOM",value:function(e){this.domElement||(this.domElement=document.createElement("div"),this.domElement.className="tw--document",this.pageViews.forEach(function(e){return e.bindToDOM()}),this.editorCursorView&&(this.editorCursorView.bindToDOM(),this.observerCursorViews.forEach(function(e){return e.bindToDOM()}),e.appendChild(this.domElement)),window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("keyup",this.handleKeyUp))}},{key:"getDOMElement",value:function(){return this.domElement}},{key:"getScreenSelection",value:function(e,t){if(e<0||e>this.getSize())throw new Error("Document position out of bound: ".concat(e,"."));if(t<0||t>this.getSize())throw new Error("Document position out of bound: ".concat(t,"."));if(e>t)throw new Error("Document from position cannot be greater than to position.");for(var i=this.documentElement.getSize(),n=[],a=this.pageViews.length-1;a>=0;a--){var s=this.pageViews[a];if((i-=s.getSize())<=t){var r=Math.max(e-i,0),u=Math.min(t-i,s.getSize()-1);n.push({pageView:s,pageViewScreenSelection:s.getScreenSelection(r,u)})}if(i<=e)return n}throw new Error("Document screen positions cannot be determined for range from ".concat(e," to ").concat(t,"."))}},{key:"getSize",value:function(){return this.documentElement.getSize()}},{key:"getLineStartPosition",value:function(e){for(var t=0,i=0,n=this.pageViews.length;i<n;i++){var a=this.pageViews[i];if(t+a.getSize()<=e)t+=a.getSize();else for(var s=a.getLineViews(),r=0,u=s.length;r<u;r++){var o=s[r];if(!(t+o.getSize()<=e))return t;t+=o.getSize()}}throw new Error("Position ".concat(e," is not in the document."))}},{key:"getLineEndPosition",value:function(e){for(var t=this.documentElement.getSize()-1,i=this.pageViews.length-1;i>=0;i--){var n=this.pageViews[i];if(t-n.getSize()>=e)t-=n.getSize();else for(var a=n.getLineViews(),s=a.length-1;s>=0;s--){var r=a[s];if(!(t-r.getSize()>=e))return t;t-=r.getSize()}}throw new Error("Position ".concat(e," is not in the document."))}},{key:"getWordStartPosition",value:function(e){for(var t=0,i=this.pageViews,n=0,a=i.length;n<a;n++){var s=i[n];if(t+s.getSize()<=e)t+=s.getSize();else for(var r=s.getLineViews(),u=0,o=r.length;u<o;u++){var l=r[u];if(t+l.getSize()<=e)t+=l.getSize();else for(var c=l.getWordViews(),m=0,d=c.length;m<d;m++){var h=c[m];if(!(t+h.getSize()<=e)){if(e===t)if(m>0)t-=c[m-1].getSize();else if(u>0){var p=r[u-1].getWordViews();if(p.length>0)t-=p[p.length-1].getSize()}else if(n>0){var g=i[n-1].getLineViews();if(g.length>0){var v=g[g.length-1].getWordViews();if(v.length>0)t-=v[v.length-1].getSize()}}return t}t+=h.getSize()}}}throw new Error("Position ".concat(e," is not in the document."))}},{key:"getWordEndPosition",value:function(e){for(var t=this.documentElement.getSize()-1,i=this.pageViews,n=i.length-1;n>=0;n--){var a=i[n];if(t-a.getSize()>=e)t-=a.getSize();else for(var s=a.getLineViews(),r=s.length-1;r>=0;r--){var u=s[r];if(t-u.getSize()>=e)t-=u.getSize();else for(var o=u.getWordViews(),l=o.length-1;l>=0;l--){var c=o[l];if(!(t-c.getSize()>=e)){if(e===t)if(l<o.length-1)t+=o[l+1].getSize();else if(r<s.length-1){var m=s[r+1].getWordViews();if(m.length>0)t+=m[0].getSize()}else if(n<i.length-1){var d=i[n+1].getLineViews();if(d.length>0){var h=d[0].getWordViews();if(h.length>0)t+=h[0].getSize()}}return t}t-=c.getSize()}}}throw new Error("Position ".concat(e," is not in the document."))}}]),e}(),M=i(8),T=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"bindToDOM",value:function(){if(!this.domElement){this.domElement=document.createElement("div"),this.domElement.className="tw--paragraph-line";var e=this.getPageView().getDOMElement();this.wordViews.forEach(function(e){return e.bindToDOM()}),e.appendChild(this.domElement)}}}]),t}(function(){function e(t){Object(u.a)(this,e),this.config=t,this.wordViews=[]}return Object(o.a)(e,[{key:"getConfig",value:function(){return this.config}},{key:"setPageView",value:function(e){this.pageView=e}},{key:"getPageView",value:function(){return this.pageView}},{key:"appendWordView",value:function(e){this.wordViews.push(e)}},{key:"removeWordView",value:function(e){var t=this.wordViews.indexOf(e);t<0||this.wordViews.splice(t,1)}},{key:"getWordViews",value:function(){return this.wordViews}},{key:"getSize",value:function(){var e=0;return this.wordViews.forEach(function(t){return e+=t.getSize()}),e}},{key:"getDOMElement",value:function(){return this.domElement}},{key:"getHeight",value:function(){return Math.max.apply(Math,Object(M.a)(this.wordViews.map(function(e){return e.getHeight()})))}},{key:"getScreenSelection",value:function(e,t){if(e<0||e>this.getSize())throw new Error("Line position out of bound: ".concat(e,"."));if(t<0||t>this.getSize())throw new Error("Line position out of bound: ".concat(t,"."));if(e>t)throw new Error("Line from position cannot be greater than to position.");for(var i=0,n=0,a=null,s=null,r=0,u=this.wordViews.length;r<u;r++){var o=this.wordViews[r],l=o.getSize();if(null===a&&i+l>=e){var c=e-i,m=Math.min(t-i,l);a=n+o.getScreenSelection(c,m).x1}if(null!==a&&i+l>=t){var d=Math.max(e-i,0),h=t-i;s=n+o.getScreenSelection(d,h).x2}if(null!==a&&null!==s)return{x1:a,x2:s,height:this.getHeight()};i+=l,n+=o.getWidth()}throw new Error("Line screen position cannot be determined for range from ".concat(e," to ").concat(t,"."))}},{key:"getDocumentPosition",value:function(e){return 0}}]),e}()),j=function(){function e(t){Object(u.a)(this,e),this.config=t}return Object(o.a)(e,[{key:"getConfig",value:function(){return this.config}},{key:"setLineView",value:function(e){this.lineView=e}},{key:"getLineView",value:function(){return this.lineView}},{key:"setWord",value:function(e){this.word=e}},{key:"getWord",value:function(){return this.word}},{key:"getSize",value:function(){return this.getWord().getSize()}},{key:"getDOMElement",value:function(){return this.domElement}}]),e}();var N=new(function(){function e(){Object(u.a)(this,e),this.$iframe=document.createElement("iframe"),this.$iframe.src="about:blank",this.$iframe.style.width="0",this.$iframe.style.height="0",this.$iframe.style.border="none",document.body.appendChild(this.$iframe),this.$textContainers=new Map}return Object(o.a)(e,[{key:"getTextContainerElement",value:function(e){var t=function(e){return JSON.stringify(e)}(e);if(!this.$textContainers.has(t)){var i=document.createElement("span");i.style.display="inline-block",i.style.whiteSpace="pre",i.style.fontFamily=e.fontFamily,i.style.fontSize="".concat(e.fontSize,"px"),i.style.fontWeight="".concat(e.fontWeight),i.style.lineHeight="".concat(e.lineHeight,"px"),i.style.letterSpacing="".concat(e.letterSpacing),this.$iframe.contentDocument.body.appendChild(i),this.$textContainers.set(t,i)}return this.$textContainers.get(t)}},{key:"measure",value:function(e,t){var i=this.getTextContainerElement(t);i.innerHTML!==e&&(i.innerHTML=e);var n=i.getBoundingClientRect();return{width:n.width,height:n.height}}}]),e}());function W(e,t){return N.measure(e,t)}var z={fontFamily:"Arial",fontSize:18,fontWeight:400,lineHeight:36,letterSpacing:0},L=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"measure",value:function(){var e=W(this.getWord().getText(),z);this.width=e.width,this.height=e.height}},{key:"getScreenX",value:function(e){var t=this.getWord().getText();return 0===e?0:W(t.substring(0,e),z).width}},{key:"bindToDOM",value:function(){if(!this.domElement){var e=this.getLineView().getDOMElement(),t=this.getWord();this.domElement=document.createTextNode(t.getText()),e.appendChild(this.domElement)}}},{key:"getWidth",value:function(){return void 0===this.width&&this.measure(),this.width}},{key:"getHeight",value:function(){return void 0===this.height&&this.measure(),this.height}},{key:"getScreenSelection",value:function(e,t){if(e<0||e>this.getSize())throw new Error("Text word position out of bound: ".concat(e,"."));if(t<0||t>this.getSize())throw new Error("Text word position out of bound: ".concat(t,"."));if(e>t)throw new Error("Text word from position cannot be greater than to position.");return{x1:this.getScreenX(e),x2:this.getScreenX(t),height:this.getHeight()}}},{key:"getDocumentPosition",value:function(e){for(var t=this.getWord().getText(),i=0,n=1,a=t.length;n<a;n++){var s=W(t.substring(0,n),z).width;if(s>e)return e-i>s-e?n:n-1;i=s}return t.length}}]),t}(j),I=function(){function e(){Object(u.a)(this,e)}return Object(o.a)(e,[{key:"apply",value:function(e,t){t.getSteps().forEach(function(t){if(t instanceof y)e.moveTo(e.getHead()+t.getDisplacement());else{if(!(t instanceof S))throw new Error("Unrecognized cursor transformation step: ".concat(t.getType()));e.moveHeadTo(e.getHead()+t.getDisplacement())}})}}]),e}(),H=function(){function e(){Object(u.a)(this,e)}return Object(o.a)(e,[{key:"apply",value:function(e,t){t.getSteps().forEach(function(e){})}}]),e}(),A=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"onEvent",value:function(e){if(e instanceof O){var t=e;"ArrowLeft"===t.key?t.shift?t.alt?this.dispatchCursorCommand(function(e){var t=new b,i=e.getState().getEditorCursor();if(!i)return t;var n=i.getHead(),a=e.getDocumentView().getWordStartPosition(n);return t.addStep(new S(a-n)),t}):t.meta?this.dispatchCursorCommand(x()):this.dispatchCursorCommand(function(e){var t=new b,i=e.getState().getEditorCursor();return i?i.getHead()<1?t:(t.addStep(new S(-1)),t):t}):t.alt?this.dispatchCursorCommand(function(e){var t=new b,i=e.getState().getEditorCursor();if(!i)return t;var n=i.getHead(),a=e.getDocumentView().getWordStartPosition(n);return t.addStep(new y(a-n)),t}):t.meta?this.dispatchCursorCommand(E()):this.dispatchCursorCommand(function(e){var t=new b,i=e.getState().getEditorCursor();if(!i)return t;var n=i.getAnchor(),a=i.getHead();if(n===a){if(a<1)return t;t.addStep(new y(-1))}else n<a?t.addStep(new y(n-a)):n>a&&t.addStep(new y(0));return t}):"ArrowRight"===t.key?t.shift?t.alt?this.dispatchCursorCommand(function(e){var t=new b,i=e.getState().getEditorCursor();if(!i)return t;var n=i.getHead(),a=e.getDocumentView().getWordEndPosition(n);return t.addStep(new S(a-n)),t}):t.meta?this.dispatchCursorCommand(q()):this.dispatchCursorCommand(function(e){var t=new b,i=e.getState().getEditorCursor();return i?i.getHead()>e.getState().getDocumentElement().getSize()-1?t:(t.addStep(new S(1)),t):t}):t.alt?this.dispatchCursorCommand(function(e){var t=new b,i=e.getState().getEditorCursor();if(!i)return t;var n=i.getHead(),a=e.getDocumentView().getWordEndPosition(n);return t.addStep(new y(a-n)),t}):t.meta?this.dispatchCursorCommand(C()):this.dispatchCursorCommand(function(e){var t=new b,i=e.getState().getEditorCursor();if(!i)return t;var n=i.getAnchor(),a=i.getHead();if(n===a){if(a>e.getState().getDocumentElement().getSize()-1)return t;t.addStep(new y(1))}else n<a?t.addStep(new y(0)):n>a&&t.addStep(new y(n-a));return t}):"ArrowUp"===t.key?t.shift?t.alt?this.dispatchCursorCommand(x()):t.meta&&this.dispatchCursorCommand(function(e){var t=new b,i=e.getState().getEditorCursor();if(!i)return t;var n=i.getHead();return t.addStep(new S(0-n)),t}):t.alt?this.dispatchCursorCommand(E()):t.meta&&this.dispatchCursorCommand(function(e){var t=new b,i=e.getState().getEditorCursor();if(!i)return t;var n=i.getHead();return t.addStep(new y(0-n)),t}):"ArrowDown"===t.key&&(t.shift?t.alt?this.dispatchCursorCommand(q()):t.meta&&this.dispatchCursorCommand(function(e){var t=new b,i=e.getState().getEditorCursor();if(!i)return t;var n=i.getHead(),a=e.getState().getDocumentElement().getSize();return t.addStep(new S(a-n)),t}):t.alt?this.dispatchCursorCommand(C()):t.meta&&this.dispatchCursorCommand(function(e){var t=new b,i=e.getState().getEditorCursor();if(!i)return t;var n=i.getHead(),a=e.getState().getDocumentElement().getSize();return t.addStep(new y(a-n)),t}))}}}]),t}(function(){function e(t){Object(u.a)(this,e),this.taleWeaver=t}return Object(o.a)(e,[{key:"dispatchCursorCommand",value:function(e){var t=e(this.taleWeaver);this.taleWeaver.getState().applyEditorCursorTransformation(t)}}]),e}()),B=function(){function e(t){Object(u.a)(this,e),this.taleWeaver=t,this.blockElementClasses=new Map,this.inlineElementClasses=new Map,this.lineViewClasses=new Map,this.wordViewClasses=new Map,this.eventObservers=[],this.registerDocumentElementClass(d),this.registerBlockElementClass("Paragraph",h),this.registerInlineElementClass("Text",f),this.registerDocumentViewClass(D),this.registerPageViewClass(w),this.registerLineViewClass("Paragraph",T),this.registerWordViewClass("Text",L),this.registerCursorTransformer(new I),this.registerDocumentTransformer(new H),this.registerEventObserver(new A(this.taleWeaver))}return Object(o.a)(e,[{key:"registerDocumentElementClass",value:function(e){this.documentElementClass=e}},{key:"getDocumentElementClass",value:function(){if(!this.documentElementClass)throw new Error("No document element class registered.");return this.documentElementClass}},{key:"registerBlockElementClass",value:function(e,t){this.blockElementClasses.set(e,t)}},{key:"getBlockElementClass",value:function(e){var t=this.blockElementClasses.get(e);if(!t)throw new Error("Unregistered block element class type: ".concat(e,"."));return t}},{key:"registerInlineElementClass",value:function(e,t){this.inlineElementClasses.set(e,t)}},{key:"getInlineElementClass",value:function(e){var t=this.inlineElementClasses.get(e);if(!t)throw new Error("Unregistered inline element class type: ".concat(e,"."));return t}},{key:"registerDocumentViewClass",value:function(e){this.documentViewClass=e}},{key:"getDocumentViewClass",value:function(){if(!this.documentViewClass)throw new Error("No document view class registered.");return this.documentViewClass}},{key:"registerPageViewClass",value:function(e){this.pageViewClass=e}},{key:"getPageViewClass",value:function(){if(!this.pageViewClass)throw new Error("No page view class registered.");return this.pageViewClass}},{key:"registerLineViewClass",value:function(e,t){this.lineViewClasses.set(e,t)}},{key:"getLineViewClass",value:function(e){var t=this.lineViewClasses.get(e);if(!t)throw new Error("Unregistered line view class: ".concat(e,"."));return t}},{key:"registerWordViewClass",value:function(e,t){this.wordViewClasses.set(e,t)}},{key:"getWordViewClass",value:function(e){var t=this.wordViewClasses.get(e);if(!t)throw new Error("Unregistered box view class: ".concat(e,"."));return t}},{key:"registerCursorTransformer",value:function(e){this.cursorTransformer=e}},{key:"getCursorTransformer",value:function(){if(!this.cursorTransformer)throw new Error("No cursor transformer registered.");return this.cursorTransformer}},{key:"registerDocumentTransformer",value:function(e){this.documentTransformer=e}},{key:"getDocumentTransformer",value:function(){if(!this.documentTransformer)throw new Error("No document transformer registered.");return this.documentTransformer}},{key:"registerEventObserver",value:function(e){this.eventObservers.push(e)}},{key:"getEventObservers",value:function(){return this.eventObservers}}]),e}(),U=function(){function e(t){Object(u.a)(this,e),this.config=t,this.registry=new B(this)}return Object(o.a)(e,[{key:"getRegistry",value:function(){return this.registry}},{key:"getConfig",value:function(){return this.config}},{key:"setState",value:function(e){this.state=e}},{key:"getState",value:function(){return this.state}},{key:"setDocumentView",value:function(e){this.documentView=e}},{key:"getDocumentView",value:function(){return this.documentView}},{key:"attach",value:function(e){var t=new(this.registry.getDocumentViewClass())(this,this.getState().getDocumentElement(),{pageWidth:this.config.pageWidth,pageHeight:this.config.pageHeight,pagePaddingTop:this.config.pagePaddingTop,pagePaddingBottom:this.config.pagePaddingBottom,pagePaddingLeft:this.config.pagePaddingLeft,pagePaddingRight:this.config.pagePaddingRight});this.setDocumentView(t),this.getDocumentView().bindToDOM(e)}}]),e}(),R=function(){function e(t){Object(u.a)(this,e),this.taleWeaver=t,this.editorCursor=null,this.observerCursors=[]}return Object(o.a)(e,[{key:"setDocumentElement",value:function(e){this.documentElement=e}},{key:"getDocumentElement",value:function(){return this.documentElement}},{key:"setEditorCursor",value:function(e){this.editorCursor=e}},{key:"getEditorCursor",value:function(){return this.editorCursor}},{key:"getObserverCursors",value:function(){return this.observerCursors}},{key:"appendObserverCursor",value:function(e){this.observerCursors.push(e)}},{key:"removeObserverCursor",value:function(e){var t=this.observerCursors.indexOf(e);t<0||this.observerCursors.splice(t,1)}},{key:"dispatchEvent",value:function(e){this.taleWeaver.getRegistry().getEventObservers().forEach(function(t){t.onEvent(e)})}},{key:"applyEditorCursorTransformation",value:function(e){if(!this.editorCursor)throw new Error("No editor cursor available to apply transformation.");this.taleWeaver.getRegistry().getCursorTransformer().apply(this.editorCursor,e)}}]),e}();var $=function(){function e(t,i,n){Object(u.a)(this,e),this.id=n||"".concat(Date.now().toString(36)).concat(Math.random().toString(36).substring(2)),this.anchor=t,this.head=i,this.observers=[]}return Object(o.a)(e,[{key:"notifyObservers",value:function(){var e=this;this.observers.forEach(function(t){t(e)})}},{key:"getID",value:function(){return this.id}},{key:"observe",value:function(e){this.observers.push(e)}},{key:"moveTo",value:function(e){this.anchor=e,this.head=e,this.notifyObservers()}},{key:"moveHeadTo",value:function(e){this.head=e,this.notifyObservers()}},{key:"getAnchor",value:function(){return this.anchor}},{key:"getHead",value:function(){return this.head}}]),e}();var F={document:{children:[{type:"Paragraph",children:[{type:"Text",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean ex magna, consequat efficitur augue a, auctor sodales dolor. Aenean mauris risus, dignissim eu lacus vel, pharetra imperdiet dolor. Cras egestas nulla ac mattis rhoncus. Mauris nec vulputate dui, ac condimentum velit. Aenean ex nibh, blandit at congue ac, gravida sed nisi. Duis lacinia a ipsum id tincidunt. Vestibulum tristique dolor nec ante imperdiet, sed laoreet elit cursus. Maecenas accumsan magna a neque blandit, in efficitur lectus porttitor. Nam tristique augue nec ornare vestibulum. Interdum et malesuada fames ac ante ipsum primis in faucibus. Mauris tristique ante vel quam sollicitudin, sodales congue nulla semper.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"Proin fermentum, odio non accumsan luctus, leo dui vulputate justo, sollicitudin auctor ligula magna eu felis. Pellentesque velit massa, interdum vel pretium at, mollis ut est. Cras vitae est convallis, egestas mauris sit amet, hendrerit dolor. Donec eget rhoncus mi. Nullam accumsan vehicula porttitor. Pellentesque vitae nisi feugiat, molestie est ac, suscipit nisi. Donec sagittis elit mi, in aliquam tellus suscipit quis. Nulla facilisi. Integer viverra molestie turpis, et blandit dui faucibus tristique. Cras vitae tortor quis elit posuere lacinia ut blandit felis. Suspendisse potenti. Praesent posuere ipsum vel diam sagittis pretium. Donec viverra lacus justo, nec aliquam ex lacinia a. Phasellus blandit neque leo, ut facilisis urna viverra ut. Ut sodales diam vitae nulla iaculis, vitae varius purus suscipit.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"Nunc id faucibus risus. Nulla semper dui vel vulputate porttitor. Integer ante nisl, laoreet ac massa laoreet, finibus pretium lectus. Maecenas aliquet nulla sit amet turpis hendrerit consequat. Fusce gravida at sem id lobortis. Vestibulum placerat nunc vehicula libero molestie convallis. Suspendisse eu ornare turpis.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"Mauris sem leo, consectetur vel tempor vel, volutpat eu enim. Sed semper, libero blandit vulputate sollicitudin, odio mauris congue massa, ac ultrices leo enim sodales dolor. Aliquam in diam quis erat dictum pellentesque et ut sapien. Donec nec semper quam. Proin aliquet orci at odio accumsan maximus. Morbi rutrum sit amet quam maximus luctus. Vivamus sit amet lacinia lorem. Nunc eget suscipit lectus, ullamcorper eleifend dolor. Aliquam aliquam maximus lectus at malesuada. In fermentum ante non metus lobortis, vel ultrices purus tempus. In vestibulum mauris non elit faucibus, quis tempus ipsum tincidunt.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"In cursus et arcu eget blandit. Vestibulum volutpat mauris eu est tempus, a ultrices justo vulputate. Suspendisse potenti. Maecenas at molestie tellus. Nulla facilisi. Etiam ac justo quis lectus blandit lacinia. Pellentesque nisl sapien, malesuada eu risus nec, malesuada posuere nisl.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean ex magna, consequat efficitur augue a, auctor sodales dolor. Aenean mauris risus, dignissim eu lacus vel, pharetra imperdiet dolor. Cras egestas nulla ac mattis rhoncus. Mauris nec vulputate dui, ac condimentum velit. Aenean ex nibh, blandit at congue ac, gravida sed nisi. Duis lacinia a ipsum id tincidunt. Vestibulum tristique dolor nec ante imperdiet, sed laoreet elit cursus. Maecenas accumsan magna a neque blandit, in efficitur lectus porttitor. Nam tristique augue nec ornare vestibulum. Interdum et malesuada fames ac ante ipsum primis in faucibus. Mauris tristique ante vel quam sollicitudin, sodales congue nulla semper.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"Proin fermentum, odio non accumsan luctus, leo dui vulputate justo, sollicitudin auctor ligula magna eu felis. Pellentesque velit massa, interdum vel pretium at, mollis ut est. Cras vitae est convallis, egestas mauris sit amet, hendrerit dolor. Donec eget rhoncus mi. Nullam accumsan vehicula porttitor. Pellentesque vitae nisi feugiat, molestie est ac, suscipit nisi. Donec sagittis elit mi, in aliquam tellus suscipit quis. Nulla facilisi. Integer viverra molestie turpis, et blandit dui faucibus tristique. Cras vitae tortor quis elit posuere lacinia ut blandit felis. Suspendisse potenti. Praesent posuere ipsum vel diam sagittis pretium. Donec viverra lacus justo, nec aliquam ex lacinia a. Phasellus blandit neque leo, ut facilisis urna viverra ut. Ut sodales diam vitae nulla iaculis, vitae varius purus suscipit.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"Nunc id faucibus risus. Nulla semper dui vel vulputate porttitor. Integer ante nisl, laoreet ac massa laoreet, finibus pretium lectus. Maecenas aliquet nulla sit amet turpis hendrerit consequat. Fusce gravida at sem id lobortis. Vestibulum placerat nunc vehicula libero molestie convallis. Suspendisse eu ornare turpis.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"Mauris sem leo, consectetur vel tempor vel, volutpat eu enim. Sed semper, libero blandit vulputate sollicitudin, odio mauris congue massa, ac ultrices leo enim sodales dolor. Aliquam in diam quis erat dictum pellentesque et ut sapien. Donec nec semper quam. Proin aliquet orci at odio accumsan maximus. Morbi rutrum sit amet quam maximus luctus. Vivamus sit amet lacinia lorem. Nunc eget suscipit lectus, ullamcorper eleifend dolor. Aliquam aliquam maximus lectus at malesuada. In fermentum ante non metus lobortis, vel ultrices purus tempus. In vestibulum mauris non elit faucibus, quis tempus ipsum tincidunt.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"In cursus et arcu eget blandit. Vestibulum volutpat mauris eu est tempus, a ultrices justo vulputate. Suspendisse potenti. Maecenas at molestie tellus. Nulla facilisi. Etiam ac justo quis lectus blandit lacinia. Pellentesque nisl sapien, malesuada eu risus nec, malesuada posuere nisl.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean ex magna, consequat efficitur augue a, auctor sodales dolor. Aenean mauris risus, dignissim eu lacus vel, pharetra imperdiet dolor. Cras egestas nulla ac mattis rhoncus. Mauris nec vulputate dui, ac condimentum velit. Aenean ex nibh, blandit at congue ac, gravida sed nisi. Duis lacinia a ipsum id tincidunt. Vestibulum tristique dolor nec ante imperdiet, sed laoreet elit cursus. Maecenas accumsan magna a neque blandit, in efficitur lectus porttitor. Nam tristique augue nec ornare vestibulum. Interdum et malesuada fames ac ante ipsum primis in faucibus. Mauris tristique ante vel quam sollicitudin, sodales congue nulla semper.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"Proin fermentum, odio non accumsan luctus, leo dui vulputate justo, sollicitudin auctor ligula magna eu felis. Pellentesque velit massa, interdum vel pretium at, mollis ut est. Cras vitae est convallis, egestas mauris sit amet, hendrerit dolor. Donec eget rhoncus mi. Nullam accumsan vehicula porttitor. Pellentesque vitae nisi feugiat, molestie est ac, suscipit nisi. Donec sagittis elit mi, in aliquam tellus suscipit quis. Nulla facilisi. Integer viverra molestie turpis, et blandit dui faucibus tristique. Cras vitae tortor quis elit posuere lacinia ut blandit felis. Suspendisse potenti. Praesent posuere ipsum vel diam sagittis pretium. Donec viverra lacus justo, nec aliquam ex lacinia a. Phasellus blandit neque leo, ut facilisis urna viverra ut. Ut sodales diam vitae nulla iaculis, vitae varius purus suscipit.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"Nunc id faucibus risus. Nulla semper dui vel vulputate porttitor. Integer ante nisl, laoreet ac massa laoreet, finibus pretium lectus. Maecenas aliquet nulla sit amet turpis hendrerit consequat. Fusce gravida at sem id lobortis. Vestibulum placerat nunc vehicula libero molestie convallis. Suspendisse eu ornare turpis.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"Mauris sem leo, consectetur vel tempor vel, volutpat eu enim. Sed semper, libero blandit vulputate sollicitudin, odio mauris congue massa, ac ultrices leo enim sodales dolor. Aliquam in diam quis erat dictum pellentesque et ut sapien. Donec nec semper quam. Proin aliquet orci at odio accumsan maximus. Morbi rutrum sit amet quam maximus luctus. Vivamus sit amet lacinia lorem. Nunc eget suscipit lectus, ullamcorper eleifend dolor. Aliquam aliquam maximus lectus at malesuada. In fermentum ante non metus lobortis, vel ultrices purus tempus. In vestibulum mauris non elit faucibus, quis tempus ipsum tincidunt.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"In cursus et arcu eget blandit. Vestibulum volutpat mauris eu est tempus, a ultrices justo vulputate. Suspendisse potenti. Maecenas at molestie tellus. Nulla facilisi. Etiam ac justo quis lectus blandit lacinia. Pellentesque nisl sapien, malesuada eu risus nec, malesuada posuere nisl.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean ex magna, consequat efficitur augue a, auctor sodales dolor. Aenean mauris risus, dignissim eu lacus vel, pharetra imperdiet dolor. Cras egestas nulla ac mattis rhoncus. Mauris nec vulputate dui, ac condimentum velit. Aenean ex nibh, blandit at congue ac, gravida sed nisi. Duis lacinia a ipsum id tincidunt. Vestibulum tristique dolor nec ante imperdiet, sed laoreet elit cursus. Maecenas accumsan magna a neque blandit, in efficitur lectus porttitor. Nam tristique augue nec ornare vestibulum. Interdum et malesuada fames ac ante ipsum primis in faucibus. Mauris tristique ante vel quam sollicitudin, sodales congue nulla semper.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"Proin fermentum, odio non accumsan luctus, leo dui vulputate justo, sollicitudin auctor ligula magna eu felis. Pellentesque velit massa, interdum vel pretium at, mollis ut est. Cras vitae est convallis, egestas mauris sit amet, hendrerit dolor. Donec eget rhoncus mi. Nullam accumsan vehicula porttitor. Pellentesque vitae nisi feugiat, molestie est ac, suscipit nisi. Donec sagittis elit mi, in aliquam tellus suscipit quis. Nulla facilisi. Integer viverra molestie turpis, et blandit dui faucibus tristique. Cras vitae tortor quis elit posuere lacinia ut blandit felis. Suspendisse potenti. Praesent posuere ipsum vel diam sagittis pretium. Donec viverra lacus justo, nec aliquam ex lacinia a. Phasellus blandit neque leo, ut facilisis urna viverra ut. Ut sodales diam vitae nulla iaculis, vitae varius purus suscipit.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"Nunc id faucibus risus. Nulla semper dui vel vulputate porttitor. Integer ante nisl, laoreet ac massa laoreet, finibus pretium lectus. Maecenas aliquet nulla sit amet turpis hendrerit consequat. Fusce gravida at sem id lobortis. Vestibulum placerat nunc vehicula libero molestie convallis. Suspendisse eu ornare turpis.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"Mauris sem leo, consectetur vel tempor vel, volutpat eu enim. Sed semper, libero blandit vulputate sollicitudin, odio mauris congue massa, ac ultrices leo enim sodales dolor. Aliquam in diam quis erat dictum pellentesque et ut sapien. Donec nec semper quam. Proin aliquet orci at odio accumsan maximus. Morbi rutrum sit amet quam maximus luctus. Vivamus sit amet lacinia lorem. Nunc eget suscipit lectus, ullamcorper eleifend dolor. Aliquam aliquam maximus lectus at malesuada. In fermentum ante non metus lobortis, vel ultrices purus tempus. In vestibulum mauris non elit faucibus, quis tempus ipsum tincidunt.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"In cursus et arcu eget blandit. Vestibulum volutpat mauris eu est tempus, a ultrices justo vulputate. Suspendisse potenti. Maecenas at molestie tellus. Nulla facilisi. Etiam ac justo quis lectus blandit lacinia. Pellentesque nisl sapien, malesuada eu risus nec, malesuada posuere nisl.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean ex magna, consequat efficitur augue a, auctor sodales dolor. Aenean mauris risus, dignissim eu lacus vel, pharetra imperdiet dolor. Cras egestas nulla ac mattis rhoncus. Mauris nec vulputate dui, ac condimentum velit. Aenean ex nibh, blandit at congue ac, gravida sed nisi. Duis lacinia a ipsum id tincidunt. Vestibulum tristique dolor nec ante imperdiet, sed laoreet elit cursus. Maecenas accumsan magna a neque blandit, in efficitur lectus porttitor. Nam tristique augue nec ornare vestibulum. Interdum et malesuada fames ac ante ipsum primis in faucibus. Mauris tristique ante vel quam sollicitudin, sodales congue nulla semper.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"Proin fermentum, odio non accumsan luctus, leo dui vulputate justo, sollicitudin auctor ligula magna eu felis. Pellentesque velit massa, interdum vel pretium at, mollis ut est. Cras vitae est convallis, egestas mauris sit amet, hendrerit dolor. Donec eget rhoncus mi. Nullam accumsan vehicula porttitor. Pellentesque vitae nisi feugiat, molestie est ac, suscipit nisi. Donec sagittis elit mi, in aliquam tellus suscipit quis. Nulla facilisi. Integer viverra molestie turpis, et blandit dui faucibus tristique. Cras vitae tortor quis elit posuere lacinia ut blandit felis. Suspendisse potenti. Praesent posuere ipsum vel diam sagittis pretium. Donec viverra lacus justo, nec aliquam ex lacinia a. Phasellus blandit neque leo, ut facilisis urna viverra ut. Ut sodales diam vitae nulla iaculis, vitae varius purus suscipit.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"Nunc id faucibus risus. Nulla semper dui vel vulputate porttitor. Integer ante nisl, laoreet ac massa laoreet, finibus pretium lectus. Maecenas aliquet nulla sit amet turpis hendrerit consequat. Fusce gravida at sem id lobortis. Vestibulum placerat nunc vehicula libero molestie convallis. Suspendisse eu ornare turpis.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"Mauris sem leo, consectetur vel tempor vel, volutpat eu enim. Sed semper, libero blandit vulputate sollicitudin, odio mauris congue massa, ac ultrices leo enim sodales dolor. Aliquam in diam quis erat dictum pellentesque et ut sapien. Donec nec semper quam. Proin aliquet orci at odio accumsan maximus. Morbi rutrum sit amet quam maximus luctus. Vivamus sit amet lacinia lorem. Nunc eget suscipit lectus, ullamcorper eleifend dolor. Aliquam aliquam maximus lectus at malesuada. In fermentum ante non metus lobortis, vel ultrices purus tempus. In vestibulum mauris non elit faucibus, quis tempus ipsum tincidunt.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"In cursus et arcu eget blandit. Vestibulum volutpat mauris eu est tempus, a ultrices justo vulputate. Suspendisse potenti. Maecenas at molestie tellus. Nulla facilisi. Etiam ac justo quis lectus blandit lacinia. Pellentesque nisl sapien, malesuada eu risus nec, malesuada posuere nisl.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean ex magna, consequat efficitur augue a, auctor sodales dolor. Aenean mauris risus, dignissim eu lacus vel, pharetra imperdiet dolor. Cras egestas nulla ac mattis rhoncus. Mauris nec vulputate dui, ac condimentum velit. Aenean ex nibh, blandit at congue ac, gravida sed nisi. Duis lacinia a ipsum id tincidunt. Vestibulum tristique dolor nec ante imperdiet, sed laoreet elit cursus. Maecenas accumsan magna a neque blandit, in efficitur lectus porttitor. Nam tristique augue nec ornare vestibulum. Interdum et malesuada fames ac ante ipsum primis in faucibus. Mauris tristique ante vel quam sollicitudin, sodales congue nulla semper.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"Proin fermentum, odio non accumsan luctus, leo dui vulputate justo, sollicitudin auctor ligula magna eu felis. Pellentesque velit massa, interdum vel pretium at, mollis ut est. Cras vitae est convallis, egestas mauris sit amet, hendrerit dolor. Donec eget rhoncus mi. Nullam accumsan vehicula porttitor. Pellentesque vitae nisi feugiat, molestie est ac, suscipit nisi. Donec sagittis elit mi, in aliquam tellus suscipit quis. Nulla facilisi. Integer viverra molestie turpis, et blandit dui faucibus tristique. Cras vitae tortor quis elit posuere lacinia ut blandit felis. Suspendisse potenti. Praesent posuere ipsum vel diam sagittis pretium. Donec viverra lacus justo, nec aliquam ex lacinia a. Phasellus blandit neque leo, ut facilisis urna viverra ut. Ut sodales diam vitae nulla iaculis, vitae varius purus suscipit.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"Nunc id faucibus risus. Nulla semper dui vel vulputate porttitor. Integer ante nisl, laoreet ac massa laoreet, finibus pretium lectus. Maecenas aliquet nulla sit amet turpis hendrerit consequat. Fusce gravida at sem id lobortis. Vestibulum placerat nunc vehicula libero molestie convallis. Suspendisse eu ornare turpis.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"Mauris sem leo, consectetur vel tempor vel, volutpat eu enim. Sed semper, libero blandit vulputate sollicitudin, odio mauris congue massa, ac ultrices leo enim sodales dolor. Aliquam in diam quis erat dictum pellentesque et ut sapien. Donec nec semper quam. Proin aliquet orci at odio accumsan maximus. Morbi rutrum sit amet quam maximus luctus. Vivamus sit amet lacinia lorem. Nunc eget suscipit lectus, ullamcorper eleifend dolor. Aliquam aliquam maximus lectus at malesuada. In fermentum ante non metus lobortis, vel ultrices purus tempus. In vestibulum mauris non elit faucibus, quis tempus ipsum tincidunt.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"In cursus et arcu eget blandit. Vestibulum volutpat mauris eu est tempus, a ultrices justo vulputate. Suspendisse potenti. Maecenas at molestie tellus. Nulla facilisi. Etiam ac justo quis lectus blandit lacinia. Pellentesque nisl sapien, malesuada eu risus nec, malesuada posuere nisl.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean ex magna, consequat efficitur augue a, auctor sodales dolor. Aenean mauris risus, dignissim eu lacus vel, pharetra imperdiet dolor. Cras egestas nulla ac mattis rhoncus. Mauris nec vulputate dui, ac condimentum velit. Aenean ex nibh, blandit at congue ac, gravida sed nisi. Duis lacinia a ipsum id tincidunt. Vestibulum tristique dolor nec ante imperdiet, sed laoreet elit cursus. Maecenas accumsan magna a neque blandit, in efficitur lectus porttitor. Nam tristique augue nec ornare vestibulum. Interdum et malesuada fames ac ante ipsum primis in faucibus. Mauris tristique ante vel quam sollicitudin, sodales congue nulla semper.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"Proin fermentum, odio non accumsan luctus, leo dui vulputate justo, sollicitudin auctor ligula magna eu felis. Pellentesque velit massa, interdum vel pretium at, mollis ut est. Cras vitae est convallis, egestas mauris sit amet, hendrerit dolor. Donec eget rhoncus mi. Nullam accumsan vehicula porttitor. Pellentesque vitae nisi feugiat, molestie est ac, suscipit nisi. Donec sagittis elit mi, in aliquam tellus suscipit quis. Nulla facilisi. Integer viverra molestie turpis, et blandit dui faucibus tristique. Cras vitae tortor quis elit posuere lacinia ut blandit felis. Suspendisse potenti. Praesent posuere ipsum vel diam sagittis pretium. Donec viverra lacus justo, nec aliquam ex lacinia a. Phasellus blandit neque leo, ut facilisis urna viverra ut. Ut sodales diam vitae nulla iaculis, vitae varius purus suscipit.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"Nunc id faucibus risus. Nulla semper dui vel vulputate porttitor. Integer ante nisl, laoreet ac massa laoreet, finibus pretium lectus. Maecenas aliquet nulla sit amet turpis hendrerit consequat. Fusce gravida at sem id lobortis. Vestibulum placerat nunc vehicula libero molestie convallis. Suspendisse eu ornare turpis.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"Mauris sem leo, consectetur vel tempor vel, volutpat eu enim. Sed semper, libero blandit vulputate sollicitudin, odio mauris congue massa, ac ultrices leo enim sodales dolor. Aliquam in diam quis erat dictum pellentesque et ut sapien. Donec nec semper quam. Proin aliquet orci at odio accumsan maximus. Morbi rutrum sit amet quam maximus luctus. Vivamus sit amet lacinia lorem. Nunc eget suscipit lectus, ullamcorper eleifend dolor. Aliquam aliquam maximus lectus at malesuada. In fermentum ante non metus lobortis, vel ultrices purus tempus. In vestibulum mauris non elit faucibus, quis tempus ipsum tincidunt.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"In cursus et arcu eget blandit. Vestibulum volutpat mauris eu est tempus, a ultrices justo vulputate. Suspendisse potenti. Maecenas at molestie tellus. Nulla facilisi. Etiam ac justo quis lectus blandit lacinia. Pellentesque nisl sapien, malesuada eu risus nec, malesuada posuere nisl.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean ex magna, consequat efficitur augue a, auctor sodales dolor. Aenean mauris risus, dignissim eu lacus vel, pharetra imperdiet dolor. Cras egestas nulla ac mattis rhoncus. Mauris nec vulputate dui, ac condimentum velit. Aenean ex nibh, blandit at congue ac, gravida sed nisi. Duis lacinia a ipsum id tincidunt. Vestibulum tristique dolor nec ante imperdiet, sed laoreet elit cursus. Maecenas accumsan magna a neque blandit, in efficitur lectus porttitor. Nam tristique augue nec ornare vestibulum. Interdum et malesuada fames ac ante ipsum primis in faucibus. Mauris tristique ante vel quam sollicitudin, sodales congue nulla semper.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"Proin fermentum, odio non accumsan luctus, leo dui vulputate justo, sollicitudin auctor ligula magna eu felis. Pellentesque velit massa, interdum vel pretium at, mollis ut est. Cras vitae est convallis, egestas mauris sit amet, hendrerit dolor. Donec eget rhoncus mi. Nullam accumsan vehicula porttitor. Pellentesque vitae nisi feugiat, molestie est ac, suscipit nisi. Donec sagittis elit mi, in aliquam tellus suscipit quis. Nulla facilisi. Integer viverra molestie turpis, et blandit dui faucibus tristique. Cras vitae tortor quis elit posuere lacinia ut blandit felis. Suspendisse potenti. Praesent posuere ipsum vel diam sagittis pretium. Donec viverra lacus justo, nec aliquam ex lacinia a. Phasellus blandit neque leo, ut facilisis urna viverra ut. Ut sodales diam vitae nulla iaculis, vitae varius purus suscipit.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"Nunc id faucibus risus. Nulla semper dui vel vulputate porttitor. Integer ante nisl, laoreet ac massa laoreet, finibus pretium lectus. Maecenas aliquet nulla sit amet turpis hendrerit consequat. Fusce gravida at sem id lobortis. Vestibulum placerat nunc vehicula libero molestie convallis. Suspendisse eu ornare turpis.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"Mauris sem leo, consectetur vel tempor vel, volutpat eu enim. Sed semper, libero blandit vulputate sollicitudin, odio mauris congue massa, ac ultrices leo enim sodales dolor. Aliquam in diam quis erat dictum pellentesque et ut sapien. Donec nec semper quam. Proin aliquet orci at odio accumsan maximus. Morbi rutrum sit amet quam maximus luctus. Vivamus sit amet lacinia lorem. Nunc eget suscipit lectus, ullamcorper eleifend dolor. Aliquam aliquam maximus lectus at malesuada. In fermentum ante non metus lobortis, vel ultrices purus tempus. In vestibulum mauris non elit faucibus, quis tempus ipsum tincidunt.\n"}]},{type:"Paragraph",children:[{type:"Text",text:"In cursus et arcu eget blandit. Vestibulum volutpat mauris eu est tempus, a ultrices justo vulputate. Suspendisse potenti. Maecenas at molestie tellus. Nulla facilisi. Etiam ac justo quis lectus blandit lacinia. Pellentesque nisl sapien, malesuada eu risus nec, malesuada posuere nisl.\n"}]}]},editorCursor:{anchor:0,head:20},observerCursors:[]},K=function(e){function t(e){var i;Object(u.a)(this,t),(i=Object(l.a)(this,Object(c.a)(t).call(this,e))).domRef=a.a.createRef();var n=new U({pageWidth:800,pageHeight:1e3,pagePaddingTop:60,pagePaddingBottom:60,pagePaddingLeft:60,pagePaddingRight:60});return n.setState(function(e,t){var i=new R(e),n=e.getRegistry(),a=new(n.getDocumentElementClass());if(t.document.children.forEach(function(e){var t=new(n.getBlockElementClass(e.type));e.children.forEach(function(e){var i=new(n.getInlineElementClass(e.type));i.setText(e.text),t.appendChild(i)}),a.appendChild(t)}),i.setDocumentElement(a),t.editorCursor){var s=new $(t.editorCursor.anchor,t.editorCursor.head);i.setEditorCursor(s)}return t.observerCursors.forEach(function(e){var t=new $(e.anchor,e.head);i.appendObserverCursor(t)}),i}(n,e.initialStateJSON)),i.state={taleWeaver:n},i}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.domRef.current;this.state.taleWeaver.attach(e)}},{key:"render",value:function(){return a.a.createElement("div",{className:"tw--container",ref:this.domRef})}}]),t}(a.a.Component),X=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"app"},a.a.createElement(K,{initialStateJSON:F}))}}]),t}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(X,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,i){e.exports=i(18)}},[[9,2,1]]]);
//# sourceMappingURL=main.42474b8d.chunk.js.map