(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){this.operations=[],this.cursorHead=null,this.cursorAnchor=null,this.cursorLockLeft=null}return t.prototype.addOperation=function(t){this.operations.push(t)},t.prototype.getOperations=function(){return this.operations},t.prototype.setCursorHead=function(t){this.cursorHead=t},t.prototype.getCursorHead=function(){return this.cursorHead},t.prototype.setCursor=function(t){this.cursorAnchor=t,this.cursorHead=t},t.prototype.getCursorAnchor=function(){return this.cursorAnchor},t.prototype.setCursorLockLeft=function(t){this.cursorLockLeft=t},t.prototype.getCursorLockLeft=function(){return this.cursorLockLeft},t}();e.default=o},,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e,n){this.type=t,this.id=e,this.attributes=n}return t.prototype.getType=function(){return this.type},t.prototype.getID=function(){return this.id},t.prototype.getAttributes=function(){return this.attributes},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(){}}();e.default=o},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(25)),a=r(n(26)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isRoot=function(){return!1},e.prototype.isLeaf=function(){return!0},e.prototype.getModelSize=function(){return this.getSize()},e.prototype.convertOffsetToModelOffset=function(t){return t},e.prototype.resolvePosition=function(t,e){return new a.default(this,e,t)},e}(i.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.getType=function(){throw new Error("Event does not have getType implemented.")},t.prototype.getType=function(){return this.constructor.getType()},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return Math.random().toString(36).substring(2)}},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(8)),a=r(n(10)),u=r(n(11)),s=r(n(114)),d=function(t){function e(e){return t.call(this,e,i.default())||this}return o(e,t),e.prototype.isRoot=function(){return!1},e.prototype.isLeaf=function(){return!1},e.prototype.getType=function(){return"Line"},e.prototype.getSize=function(){return void 0===this.size&&(this.size=this.getChildNodes().reduce(function(t,e){return t+e.getSize()},0)),this.size},e.prototype.getWidth=function(){return this.getParent().getWidth()},e.prototype.getHeight=function(){return void 0===this.height&&(this.height=this.getChildNodes().reduce(function(t,e){return Math.max(t,e.getHeight())},0)),this.height},e.prototype.clearCache=function(){this.size=void 0,this.height=void 0},e.prototype.onRenderUpdated=function(){this.clearCache()},e.prototype.splitAt=function(t){for(var n=new e(this.editor);this.getChildNodes().length>t;){var o=this.getChildNodes()[t];this.removeChild(o),n.appendChild(o)}return this.clearCache(),n},e.prototype.join=function(t){var e=this,n=this.getLastChild(),o=t.getFirstChild();n&&o&&n.getID()===o.getID()&&(n.join(o),t.removeChild(o)),t.getChildNodes().slice().forEach(function(n){t.removeChild(n),e.appendChild(n)}),this.clearCache(),t.clearCache()},e.prototype.resolvePosition=function(t,e){for(var n=0,o=this.getChildNodes(),r=0,i=o.length;r<i;r++){var a=o[r],s=a.getSize();if(n+s>t){var d=new u.default(this,e,t),f=a.resolvePosition(t-n,e+1);return d.setChild(f),f.setParent(d),d}n+=s}throw new Error("Offset "+t+" is out of range.")},e.prototype.convertCoordinatesToOffset=function(t){for(var e=0,n=0,o=this.getChildNodes(),r=0,i=o.length;r<i;r++){var a=o[r],u=a.getWidth();if(t>=n&&t<=n+u){e+=a.convertCoordinatesToOffset(t-n);break}e+=a.getSize(),n+=u}return e===this.getSize()?e-1:e},e.prototype.resolveRects=function(t,e){for(var n=this,o=[],r=0,i=0,a=this.getChildNodes(),u=0,d=a.length;u<d&&r<=e;u++){var f=a[u],c=f.getWidth(),l=f.getSize(),h=Math.max(t-r,0),p=Math.min(e-r,l);if(h<=l&&p>=0&&(h!==p||p!==l))f.resolveRects(h,p).forEach(function(t){var e=t.width,r=t.height,a=i+t.left,u=n.getWidth()-i-t.right,s=t.top,d=t.bottom;o.push({width:e,height:r,left:a,right:u,top:s,bottom:d,paddingTop:t.paddingTop,paddingBottom:t.paddingBottom,paddingLeft:0,paddingRight:0})});r+=f.getSize(),i+=c}return s.default(o),o},e}(a.default);e.default=d},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n){var o=t.call(this)||this;return o.editor=e,o.id=n,o}return o(e,t),e.prototype.getID=function(){return this.id},e.prototype.onUpdated=function(e){t.prototype.onUpdated.call(this,e),this.clearCache()},e}(r(n(22)).default);e.default=i},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(r(n(31)).default);e.default=i},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(54)),a=function(t){function e(e,n){var o=t.call(this)||this;return o.from=e,o.to=n,o}return o(e,t),e.prototype.getOffsetAdjustment=function(){return{at:this.to,delta:this.from-this.to}},e.prototype.adjustOffset=function(t){var n=this.from,o=this.to;return t.forEach(function(t){n>=t.at&&(n+=t.delta),o>=t.at&&(o+=t.delta)}),new e(n,o)},e.prototype.getFrom=function(){return this.from},e.prototype.getTo=function(){return this.to},e}(r(n(55)).default);e.default=a;var u=function(t){function e(e,n){var o=t.call(this)||this;return o.at=e,o.tokens=n,o}return o(e,t),e.prototype.getAt=function(){return this.at},e.prototype.getTokens=function(){return this.tokens},e}(i.default);e.AppliedDelete=u},,,,,,function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(10)),a=r(n(11)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isRoot=function(){return!1},e.prototype.isLeaf=function(){return!1},e.prototype.getSize=function(){return void 0===this.size&&(this.size=this.getChildNodes().reduce(function(t,e){return t+e.getSize()},0)),this.size},e.prototype.getWidth=function(){return void 0===this.width&&(this.width=this.getChildNodes().reduce(function(t,e){return t+e.getWidth()},0)),this.width},e.prototype.getWidthWithoutTrailingWhitespace=function(){if(void 0===this.widthWithoutTrailingWhitespace){var t=this.getChildNodes(),e=t[t.length-1];this.widthWithoutTrailingWhitespace=this.getWidth()-e.getWidth()+e.getWidthWithoutTrailingWhitespace()}return this.widthWithoutTrailingWhitespace},e.prototype.getHeight=function(){return void 0===this.height&&(this.height=this.getChildNodes().reduce(function(t,e){return Math.max(t,e.getHeight())},0)+this.getPaddingTop()+this.getPaddingBottom()),this.height},e.prototype.clearCache=function(){this.size=void 0,this.width=void 0,this.widthWithoutTrailingWhitespace=void 0,this.height=void 0},e.prototype.resolvePosition=function(t,e){for(var n=0,o=this.getChildNodes(),r=0,i=o.length;r<i;r++){var u=o[r],s=u.getSize();if(n+s>t){var d=new a.default(this,e,t),f=u.resolvePosition(t-n,e+1);return d.setChild(f),f.setParent(d),d}n+=s}throw new Error("Offset "+t+" is out of range.")},e.prototype.convertCoordinatesToOffset=function(t){for(var e=0,n=0,o=this.getChildNodes(),r=0,i=o.length;r<i;r++){var a=o[r],u=a.getWidth();if(t>=n&&t<=n+u){e+=a.convertCoordinatesToOffset(t-n);break}e+=a.getSize(),n+=u}return e},e.prototype.resolveRects=function(t,e){for(var n=this,o=[],r=0,i=0,a=this.getChildNodes(),u=0,s=a.length;u<s&&r<=e;u++){var d=a[u],f=d.getWidth(),c=d.getSize(),l=Math.max(t-r,0),h=Math.min(e-r,c);if(l<=c&&h>=0)d.resolveRects(l,h).forEach(function(t){var e=t.width,r=t.height,a=n.getPaddingTop(),u=n.getPaddingBottom(),s=i+t.left,d=n.getWidth()-i-t.right,f=a+t.top,c=u+t.bottom;o.push({width:e,height:r,left:s,right:d,top:f,bottom:c,paddingTop:a,paddingBottom:u,paddingLeft:0,paddingRight:0})});r+=d.getSize(),i+=f}return o},e}(i.default);e.default=u},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(25)),a=r(n(26)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isRoot=function(){return!1},e.prototype.isLeaf=function(){return!1},e.prototype.getSize=function(){return void 0===this.size&&(this.size=this.getChildNodes().reduce(function(t,e){return t+e.getSize()},0)),this.size},e.prototype.getModelSize=function(){return void 0===this.modelSize&&(this.modelSize=this.getChildNodes().reduce(function(t,e){return t+e.getModelSize()},2)),this.modelSize},e.prototype.clearCache=function(){this.size=void 0,this.modelSize=void 0},e.prototype.convertOffsetToModelOffset=function(t){for(var e=0,n=1,o=this.getChildNodes(),r=0,i=o.length;r<i;r++){var a=o[r],u=a.getSize();if(e+u>t)return n+a.convertOffsetToModelOffset(t-e);e+=u,n+=a.getModelSize()}throw new Error("Offset "+t+" is out of range.")},e.prototype.resolvePosition=function(t,e){for(var n=0,o=this.getChildNodes(),r=0,i=o.length;r<i;r++){var u=o[r],s=u.getSize();if(n+s>t){var d=new a.default(this,e,t),f=u.resolvePosition(t-n,e+1);return d.setChild(f),f.setParent(d),d}n+=s}throw new Error("Offset "+t+" is out of range.")},e}(i.default);e.default=u},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n){var o=t.call(this)||this;return o.editor=e,o.layoutNode=n,o}return o(e,t),e.prototype.getID=function(){return this.layoutNode.getID()},e.prototype.appendChild=function(e){t.prototype.appendChild.call(this,e),this.appendDOMChild(e.getDOMContainer())},e.prototype.insertBefore=function(e,n){t.prototype.insertBefore.call(this,e,n),this.insertDOMBefore(e.getDOMContainer(),n.getDOMContainer())},e.prototype.removeChild=function(e){t.prototype.removeChild.call(this,e),this.removeDOMChild(e.getDOMContainer())},e.prototype.getLayoutNode=function(){return this.layoutNode},e.prototype.onUpdated=function(e){t.prototype.onUpdated.call(this,e),this.layoutNode=e.getLayoutNode(),this.clearCache(),this.updateDOM()},e.prototype.onDeleted=function(){var t=this.getDOMContainer(),e=t.parentElement;e&&e.removeChild(t)},e}(r(n(22)).default);e.default=i},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(10)),a=r(n(11)),u=function(t){function e(e){return t.call(this,e,"Doc")||this}return o(e,t),e.prototype.isRoot=function(){return!0},e.prototype.isLeaf=function(){return!1},e.prototype.getType=function(){return"Doc"},e.prototype.getSize=function(){return void 0===this.size&&(this.size=this.getChildNodes().reduce(function(t,e){return t+e.getSize()},0)),this.size},e.prototype.clearCache=function(){this.size=void 0},e.prototype.resolvePosition=function(t){for(var e=0,n=this.getChildNodes(),o=0,r=n.length;o<r;o++){var i=n[o],u=i.getSize();if(e+u>t){var s=new a.default(this,0,t),d=i.resolvePosition(t-e,1);return s.setChild(d),d.setParent(s),s}e+=u}throw new Error("Offset "+t+" is out of range.")},e.prototype.resolveRects=function(t,e){var n=[],o=this.getChildNodes();o.forEach(function(){n.push([])});for(var r=0,i=function(i,a){var u=o[i],s=u.getSize(),d=s,f=Math.max(t-r,0),c=Math.min(e-r,d);f<=d&&c>=0&&u.resolveRects(f,c).forEach(function(t){n[i].push(t)});r+=s},a=0,u=o.length;a<u&&r<=e;a++)i(a);return n},e}(i.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){this.isLeaf()||(this.childNodes=[])}return t.prototype.setParent=function(t){this.parent=t},t.prototype.getParent=function(){if(this.isRoot())throw new Error("Getting parent on root node is not allowed.");return this.parent||null},t.prototype.appendChild=function(t){if(this.isLeaf())throw new Error("Appending child on leaf node is not allowed.");this.childNodes.push(t),t.setParent(this)},t.prototype.insertBefore=function(t,e){if(this.isLeaf())throw new Error("Inserting on leaf node is not allowed.");var n=this.childNodes.indexOf(e);if(n<0)throw new Error("Error inserting, child to insert before is not found.");this.childNodes.splice(n,0,t),t.setParent(this)},t.prototype.removeChild=function(t){if(this.isLeaf())throw new Error("Removing child on leaf node is not allowed.");var e=this.childNodes.indexOf(t);if(e<0)throw new Error("Error removing child, child is not found.");this.childNodes.splice(e,1),t.setParent(void 0)},t.prototype.getChildNodes=function(){if(this.isLeaf())throw new Error("Getting childNodes on leaf node is not allowed.");return this.childNodes},t.prototype.getFirstChild=function(){var t=this.getChildNodes();return 0===t.length?null:t[0]},t.prototype.getLastChild=function(){var t=this.getChildNodes();return 0===t.length?null:t[t.length-1]},t.prototype.getPreviousSibling=function(){if(this.isRoot())throw new Error("Getting previous sibling on root node is not allowed.");var t=this.getParent().getChildNodes(),e=t.indexOf(this);if(e<0)throw new Error("Error getting previous sibling, node is not found in parent.");return 0===e?null:t[e-1]},t.prototype.getNextSibling=function(){if(this.isRoot())throw new Error("Getting next sibling on root node is not allowed.");var t=this.getParent().getChildNodes(),e=t.indexOf(this);if(e<0)throw new Error("Error getting next sibling, node is not found in parent.");return e===t.length-1?null:t[e+1]},t.prototype.getPreviousSiblingAllowCrossParent=function(){if(this.isRoot())throw new Error("Getting previous sibling on root node is not allowed.");var t=this.getPreviousSibling();if(t)return t;var e=this.getParent();if(e.isRoot())return null;var n=e.getPreviousSiblingAllowCrossParent();return n?n.getLastChild():null},t.prototype.getNextSiblingAllowCrossParent=function(){if(this.isRoot())throw new Error("Getting next sibling on root node is not allowed.");var t=this.getNextSibling();if(t)return t;if(this.getParent().isRoot())return null;var e=this.getParent().getNextSiblingAllowCrossParent();return e?e.getFirstChild():null},t.prototype.findDescendant=function(t){if(this.getID()===t)return this;if(this.isLeaf())return null;for(var e=this.getChildNodes(),n=0,o=e.length;n<o;n++){var r=e[n].findDescendant(t);if(r)return r}return null},t.prototype.onUpdated=function(t){if(!this.isLeaf()){for(var e=this.childNodes.slice(),n=t.childNodes,o=0,r=0,i=n.length;r<i;r++){for(var a=n[r],u=-1,s=o,d=e.length;s<d;s++)if(e[s].getID()===a.getID()){u=s;break}if(u>=0){for(;o<u;)this.removeChild(e[o]),o++;e[o].onUpdated(a),o++}else o<e.length?this.insertBefore(a,e[o]):this.appendChild(a)}for(;o<e.length;)this.removeChild(e[o]),o++}},t}();e.default=o},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(10)),a=r(n(11)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isRoot=function(){return!1},e.prototype.isLeaf=function(){return!0},e.prototype.resolvePosition=function(t,e){return new a.default(this,e,t)},e}(i.default);e.default=u},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(5)),a=r(n(4)),u=r(n(35)),s=r(n(36)),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isRoot=function(){return!1},e.prototype.isLeaf=function(){return!1},e.prototype.getSize=function(){return void 0===this.size&&(this.size=this.getChildNodes().reduce(function(t,e){return t+e.getSize()},2)),this.size},e.prototype.toTokens=function(){var t=[];return t.push(new a.default(this.getType(),this.getID(),this.getAttributes())),this.getChildNodes().forEach(function(e){t.push.apply(t,e.toTokens())}),t.push(new i.default),t},e.prototype.resolvePosition=function(t,e){for(var n=1,o=this.getChildNodes(),r=0,i=o.length;r<i;r++){var a=o[r],u=a.getSize();if(n+u>t){var d=new s.default(this,e,t),f=a.resolvePosition(t-n,e+1);return d.setChild(f),f.setParent(d),d}n+=u}throw new Error("Offset "+t+" is out of range.")},e.prototype.clearCache=function(){this.size=void 0;var t=this.getParent();t&&t.clearCache()},e}(u.default);e.default=d},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n){var o=t.call(this)||this;return o.editor=e,o.id=n,o}return o(e,t),e.prototype.getID=function(){return this.id},e.prototype.onUpdated=function(e){t.prototype.onUpdated.call(this,e),this.clearCache()},e}(r(n(22)).default);e.default=i},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(r(n(31)).default);e.default=i},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(54)),a=function(t){function e(e,n){var o=t.call(this)||this;return o.at=e,o.tokens=n,o}return o(e,t),e.prototype.getOffsetAdjustment=function(){return{at:this.at,delta:this.tokens.length}},e.prototype.adjustOffset=function(t){var n=this.at;return t.forEach(function(t){n>=t.at&&(n+=t.delta)}),new e(n,this.tokens)},e.prototype.getAt=function(){return this.at},e.prototype.getTokens=function(){return this.tokens},e}(r(n(55)).default);e.default=a;var u=function(t){function e(e,n){var o=t.call(this)||this;return o.at=e,o.tokens=n,o}return o(e,t),e.prototype.getAt=function(){return this.at},e.prototype.getTokens=function(){return this.tokens},e}(i.default);e.AppliedInsert=u},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.getType=function(){return"CursorUpdated"},e}(r(n(7)).default);e.default=i},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e){var n=t.call(this)||this;return n.updatedNode=e,n}return o(e,t),e.getType=function(){return"RenderUpdated"},e.prototype.getUpdatedNode=function(){return this.updatedNode},e}(r(n(7)).default);e.default=i},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e,n){this.parent=null,this.child=null,this.node=t,this.depth=e,this.offset=n}return t.prototype.getNode=function(){return this.node},t.prototype.getDepth=function(){return this.depth},t.prototype.getOffset=function(){return this.offset},t.prototype.setParent=function(t){this.parent=t},t.prototype.getParent=function(){return this.parent},t.prototype.setChild=function(t){this.child=t},t.prototype.getChild=function(){return this.child},t.prototype.getLeaf=function(){return this.child?this.child.getLeaf():this},t}();e.default=o},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(23)),a=r(n(46)),u=function(t){function e(e,n,o){var r=t.call(this,e,n.getID())||this;return r.renderNode=n,r.content=o||n.getContent(),r}return o(e,t),e.prototype.getType=function(){return"TextWord"},e.prototype.getSize=function(){return this.content.length},e.prototype.getWidth=function(){return void 0!==this.width&&void 0!==this.height||this.takeMeasurement(),this.width},e.prototype.getWidthWithoutTrailingWhitespace=function(){if(void 0===this.widthWithoutTrailingWhitespace)if(this.renderNode.getBreakable()){var t=this.content,e=a.default(t.substring(0,t.length-1),this.getTextStyle());this.widthWithoutTrailingWhitespace=e.width}else this.widthWithoutTrailingWhitespace=this.getWidth();return this.widthWithoutTrailingWhitespace},e.prototype.getHeight=function(){return void 0!==this.width&&void 0!==this.height||this.takeMeasurement(),this.height},e.prototype.getBreakable=function(){return this.renderNode.getBreakable()},e.prototype.getContent=function(){return this.content},e.prototype.getTextStyle=function(){return this.renderNode.getTextStyle()},e.prototype.clearCache=function(){this.width=void 0,this.widthWithoutTrailingWhitespace=void 0,this.height=void 0},e.prototype.onUpdated=function(e){t.prototype.onUpdated.call(this,e),this.content=e.getContent()},e.prototype.splitAtWidth=function(t){for(var n=0,o=this.content.length;o-n>1;){var r=Math.floor((o+n)/2),i=this.content.substring(0,r);a.default(i,this.getTextStyle()).width>t?o=r:n=r}var u=n,s=new e(this.editor,this.renderNode,this.content.substring(u));return this.content=this.content.substring(0,u),this.clearCache(),s},e.prototype.convertCoordinatesToOffset=function(t){for(var e=0,n=0,o=this.content.length;n<o;n++){var r=a.default(this.content.substring(0,n),this.getTextStyle()).width;if(!(r<t))return t-e<r-t?n-1:n;e=r}return t-e<this.getWidth()-t?this.content.length-1:this.content.length},e.prototype.resolveRects=function(t,e){if(0===t&&e===this.getSize())return[{left:0,right:0,top:0,bottom:0,width:this.getWidth(),height:this.getHeight(),paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}];var n=a.default(this.content.substring(0,t),this.getTextStyle()),o=a.default(this.content.substring(0,e),this.getTextStyle());return[{width:o.width-n.width,height:this.getHeight(),left:n.width,right:this.getWidth()-o.width,top:0,bottom:0,paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}]},e.prototype.takeMeasurement=function(){var t=a.default(this.content,this.getTextStyle());this.width=t.width,this.height=t.height},e}(i.default);e.default=u},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(10)),a=r(n(11)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isRoot=function(){return!1},e.prototype.isLeaf=function(){return!1},e.prototype.getWidth=function(){return this.getParent().getInnerWidth()},e.prototype.getHeight=function(){return void 0===this.height&&(this.height=this.getChildNodes().reduce(function(t,e){return t+e.getHeight()},this.getPaddingTop()+this.getPaddingBottom())),this.height},e.prototype.getSize=function(){return void 0===this.size&&(this.size=this.getChildNodes().reduce(function(t,e){return t+e.getSize()},0)),this.size},e.prototype.resolvePosition=function(t,e){for(var n=0,o=this.getChildNodes(),r=0,i=o.length;r<i;r++){var u=o[r],s=u.getSize();if(n+s>t){var d=new a.default(this,e,t),f=u.resolvePosition(t-n,e+1);return d.setChild(f),f.setParent(d),d}n+=s}throw new Error("Offset "+t+" is out of range.")},e.prototype.convertCoordinatesToOffset=function(t,e){for(var n=0,o=0,r=this.getChildNodes(),i=0,a=r.length;i<a;i++){var u=r[i],s=u.getHeight();if(e>=o&&e<=o+s){n+=u.convertCoordinatesToOffset(t);break}n+=u.getSize(),o+=s}return n},e.prototype.resolveRects=function(t,e){for(var n=this,o=[],r=0,i=0,a=this.getChildNodes(),u=function(u,s){var d=a[u],f=d.getHeight(),c=d.getSize(),l=Math.max(t-r,0),h=Math.min(e-r,c);l<=c&&h>=0&&d.resolveRects(l,h).forEach(function(t){var e=t.width,r=t.height,a=n.getPaddingTop(),u=n.getPaddingBottom(),s=t.left,d=t.right,c=i+a+t.top,l=n.getHeight()-i-f-t.bottom-u;o.push({width:e,height:r,left:s,right:d,top:c,bottom:l,paddingTop:t.paddingTop,paddingBottom:t.paddingBottom,paddingLeft:t.paddingLeft,paddingRight:t.paddingRight})});r+=d.getSize(),i+=f},s=0,d=a.length;s<d&&r<=e;s++)u(s);return o},e.prototype.clearCache=function(){this.size=void 0,this.height=void 0},e}(i.default);e.default=u},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(5)),a=r(n(4)),u=r(n(35)),s=r(n(36)),d=function(t){function e(e){return t.call(this,e,"Doc",{})||this}return o(e,t),e.prototype.isRoot=function(){return!0},e.prototype.isLeaf=function(){return!1},e.prototype.getType=function(){return"Doc"},e.prototype.getSize=function(){return void 0===this.size&&(this.size=this.getChildNodes().reduce(function(t,e){return t+e.getSize()},2)),this.size},e.prototype.clearCache=function(){this.size=void 0},e.prototype.toHTML=function(t,e){for(var n=document.createElement("div"),o=1,r=this.getChildNodes(),i=0,a=r.length;i<a&&o<e;i++){var u=r[i],s=u.getSize(),d=Math.max(0,t-o),f=Math.min(d+s,e-o);if(o+=s,!(d>s||f<0)){var c=u.toHTML(d,f);n.appendChild(c)}}return n},e.prototype.toTokens=function(){var t=[];return t.push(new a.default(this.getType(),this.getID(),this.getAttributes())),this.getChildNodes().forEach(function(e){t.push.apply(t,e.toTokens())}),t.push(new i.default),t},e.prototype.resolvePosition=function(t){for(var e=1,n=this.getChildNodes(),o=0,r=n.length;o<r;o++){var i=n[o],a=i.getSize();if(e+a>t){var u=new s.default(this,0,t),d=i.resolvePosition(t-e,1);return u.setChild(d),d.setParent(u),u}e+=a}if(t<this.getSize())return new s.default(this,0,t);throw new Error("Offset "+t+" is out of range.")},e}(u.default);e.default=d},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__rest||function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&(n[o[r]]=t[o[r]])}return n},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e,n,o){var r=t.call(this)||this;return r.editor=e,r.id=n,r.attributes=o,r}return o(e,t),e.prototype.appendChild=function(e){t.prototype.appendChild.call(this,e),this.clearCache()},e.prototype.insertBefore=function(e,n){t.prototype.insertBefore.call(this,e,n),this.clearCache()},e.prototype.removeChild=function(e){t.prototype.removeChild.call(this,e),this.clearCache()},e.prototype.getID=function(){return this.id},e.prototype.getAttributes=function(){return this.attributes},e.prototype.clone=function(){var t=this.attributes,e=t.id,n=r(t,["id"]);return new this.constructor(this.editor,e,n)},e.prototype.onUpdated=function(e){this.attributes=e.attributes,t.prototype.onUpdated.call(this,e),this.clearCache()},e}(i(n(22)).default);e.default=a},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(r(n(31)).default);e.default=i},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(25)),a=r(n(26)),u=function(t){function e(e){return t.call(this,e,"Doc")||this}return o(e,t),e.prototype.isRoot=function(){return!0},e.prototype.isLeaf=function(){return!1},e.prototype.getType=function(){return"Doc"},e.prototype.getSize=function(){return void 0===this.size&&(this.size=this.getChildNodes().reduce(function(t,e){return t+e.getSize()},0)),this.size},e.prototype.getModelSize=function(){return void 0===this.modelSize&&(this.modelSize=this.getChildNodes().reduce(function(t,e){return t+e.getModelSize()},2)),this.modelSize},e.prototype.clearCache=function(){this.size=void 0,this.modelSize=void 0},e.prototype.convertOffsetToModelOffset=function(t){for(var e=0,n=1,o=this.getChildNodes(),r=0,i=o.length;r<i;r++){var a=o[r],u=a.getSize();if(e+u>t)return n+a.convertOffsetToModelOffset(t-e);e+=u,n+=a.getModelSize()}throw new Error("Offset "+t+" is out of range.")},e.prototype.resolvePosition=function(t){for(var e=0,n=this.getChildNodes(),o=0,r=n.length;o<r;o++){var i=n[o],u=i.getSize();if(e+u>t){var s=new a.default(this,0,t),d=i.resolvePosition(t-e,1);return s.setChild(d),d.setParent(s),s}e+=u}throw new Error("Offset "+t+" is out of range.")},e}(i.default);e.default=u},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(50)),a=r(n(25)),u=r(n(26)),s=function(t){function e(e,n){var o=t.call(this,e,n)||this;return o.lineBreakInlineNode=new i.default(e,n),o.lineBreakInlineNode.setParent(o),o}return o(e,t),e.prototype.isRoot=function(){return!1},e.prototype.isLeaf=function(){return!1},e.prototype.getChildNodes=function(){return t.prototype.getChildNodes.call(this).concat([this.lineBreakInlineNode])},e.prototype.getChildNodesExcludeLineBreak=function(){return t.prototype.getChildNodes.call(this)},e.prototype.getSize=function(){return void 0===this.size&&(this.size=this.getChildNodes().reduce(function(t,e){return t+e.getSize()},0)),this.size},e.prototype.getModelSize=function(){return void 0===this.modelSize&&(this.modelSize=this.getChildNodes().reduce(function(t,e){return t+e.getModelSize()},2)),this.modelSize},e.prototype.clearCache=function(){this.size=void 0,this.modelSize=void 0},e.prototype.convertOffsetToModelOffset=function(t){for(var e=0,n=1,o=this.getChildNodes(),r=0,i=o.length;r<i;r++){var a=o[r],u=a.getSize();if(e+u>t)return n+a.convertOffsetToModelOffset(t-e);e+=u,n+=a.getModelSize()}throw new Error("Offset "+t+" is out of range.")},e.prototype.resolvePosition=function(t,e){for(var n=0,o=this.getChildNodes(),r=0,i=o.length;r<i;r++){var a=o[r],s=a.getSize();if(n+s>t){var d=new u.default(this,e,t),f=a.resolvePosition(t-n,e+1);return d.setChild(f),f.setParent(d),d}n+=s}throw new Error("Offset "+t+" is out of range.")},e}(a.default);e.default=s},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(102));e.selectAll=r.default;var i=o(n(103));e.deleteBackward=i.default;var a=o(n(104));e.deleteForward=a.default;var u=o(n(105));e.insert=u.default;var s=o(n(106));e.moveCursorHeadLeft=s.default;var d=o(n(107));e.moveCursorHeadLeftByWord=d.default;var f=o(n(108));e.moveCursorHeadRight=f.default;var c=o(n(109));e.moveCursorHeadRightByWord=c.default;var l=o(n(110));e.moveCursorHeadTo=l.default;var h=o(n(111));e.moveCursorHeadToLeftOfDoc=h.default;var p=o(n(112));e.moveCursorHeadToLeftOfLine=p.default;var g=o(n(113));e.moveCursorHeadToLineAbove=g.default;var y=o(n(115));e.moveCursorHeadToLineBelow=y.default;var v=o(n(116));e.moveCursorHeadToRightOfDoc=v.default;var _=o(n(117));e.moveCursorHeadToRightOfLine=_.default;var m=o(n(118));e.moveCursorLeft=m.default;var w=o(n(119));e.moveCursorLeftByWord=w.default;var b=o(n(120));e.moveCursorRight=b.default;var C=o(n(121));e.moveCursorRightByWord=C.default;var O=o(n(122));e.moveCursorTo=O.default;var P=o(n(123));e.moveCursorToLeftOfDoc=P.default;var T=o(n(124));e.moveCursorToLeftOfLine=T.default;var N=o(n(125));e.moveCursorToLineAbove=N.default;var M=o(n(126));e.moveCursorToLineBelow=M.default;var S=o(n(127));e.moveCursorToRightOfDoc=S.default;var D=o(n(128));e.moveCursorToRightOfLine=D.default;var x=o(n(129));e.split=x.default},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(77));e.Config=r.default;var i=o(n(95));e.default=i.default},,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_STYLE={weight:400,size:16,color:"rgba(0, 0, 0, 1)",font:"Arial",letterSpacing:0,italic:!1,underline:!1,strikethrough:!1};var o=function(){function t(){this.fonts=new Map,this.defaultStyle=e.DEFAULT_STYLE}return t.prototype.registerFont=function(t,e){var n={name:t,src:e};this.fonts.set(t,n)},t.prototype.getDefaultStyle=function(){return this.defaultStyle},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){this.$canvas=document.createElement("canvas")}return t.prototype.measure=function(t,e){var n=this.$canvas.getContext("2d"),o=e.weight,r=e.size,i=e.font,a=e.letterSpacing;n.font=o+" "+r+'px "'+i+'"';var u=n.measureText(t);return{width:0===a||t.length<=1?u.width:u.width+(t.length-1)*a,height:r}},t}();e.TextMeasurer=o;var r=new o;e.default=function(t,e){return r.measure(t,e)}},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(8)),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.getDOMNodeNames=function(){return["P","DIV"]},e.fromDOM=function(t,n,o){return new e(t,i.default(),{})},e.prototype.getType=function(){return"Paragraph"},e.prototype.toHTML=function(t,e){for(var n=document.createElement("p"),o=1,r=this.getChildNodes(),i=0,a=r.length;i<a&&o<e;i++){var u=r[i],s=u.getSize(),d=Math.max(0,t-o),f=Math.min(d+s,e-o);if(o+=s,!(d>s||f<0)){var c=u.toHTML(d,f);n.appendChild(c)}}return n},e}(r(n(24)).default);e.default=a},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(8)),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.getDOMNodeNames=function(){return["SPAN"]},e.fromDOM=function(t,n,o,r){var a=new e(t,i.default(),{});return a.setContent(r),a},e.prototype.getType=function(){return"Text"},e.prototype.toHTML=function(t,e){var n=document.createElement("span");return n.innerText=this.content.substring(t-1,e-1),n},e}(r(n(49)).default);e.default=a},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(5)),a=r(n(4)),u=r(n(35)),s=r(n(36)),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content="",e}return o(e,t),e.prototype.isRoot=function(){return!1},e.prototype.isLeaf=function(){return!0},e.prototype.setContent=function(t){this.content=t,this.clearCache()},e.prototype.getContent=function(){return this.content},e.prototype.getSize=function(){return void 0===this.size?2+this.content.length:this.size},e.prototype.toTokens=function(){var t=[];return t.push(new a.default(this.getType(),this.getID(),this.getAttributes())),t.push.apply(t,this.content.split("")),t.push(new i.default),t},e.prototype.resolvePosition=function(t,e){if(t>=this.getSize())throw new Error("Offset "+t+" is out of range.");return new s.default(this,e,t)},e.prototype.clearCache=function(){this.size=void 0;var t=this.getParent();t&&t.clearCache()},e.prototype.onUpdated=function(e){this.content=e.getContent(),t.prototype.onUpdated.call(this,e)},e}(u.default);e.default=d},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(19)),a=r(n(85)),u=function(t){function e(e,n){var o=t.call(this,e,n+"-LineBreak")||this;return o.lineBreakAtomicNode=new a.default(e,n),o.appendChild(o.lineBreakAtomicNode),o}return o(e,t),e.prototype.getType=function(){return"LineBreak"},e.prototype.getModelSize=function(){return 0},e.prototype.convertOffsetToModelOffset=function(t){return-1},e}(i.default);e.default=u},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(19)),a=r(n(86)),u=r(n(87)),s=function(t){function e(e,n){var o=t.call(this,e,n.getID())||this,r=o.editor.getConfig().getTextConfig().getDefaultStyle(),i=n.getAttributes();if(o.textStyle={weight:i.weight||r.weight,size:i.size||r.size,color:i.color||r.color,font:i.font||r.font,letterSpacing:i.letterSpacing||r.letterSpacing,italic:i.italic||r.italic,underline:i.underline||r.underline,strikethrough:i.strikethrough||r.strikethrough},u.default(n.getContent()).forEach(function(t,r){var i=new a.default(e,n,r,o.textStyle,t);o.appendChild(i)}),0===o.getChildNodes().length){var s=new a.default(e,n,0,o.textStyle,{text:"",breakable:!1});o.appendChild(s)}return o}return o(e,t),e.prototype.getType=function(){return"Text"},e.prototype.getTextStyle=function(){return this.textStyle},e}(i.default);e.default=s},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e){var n=t.call(this,e,e.getLayoutService().getDoc())||this;return n.isAttachedToDOM=!1,n.domContainer=document.createElement("div"),n.domContainer.className="tw--doc",n.domContainer.setAttribute("data-tw-instance",e.getID()),n.domContainer.setAttribute("data-tw-id",n.getID()),n.domContainer.setAttribute("data-tw-role","doc"),n.domContainer.style.textAlign="left",n.domContainer.style.cursor="text",n.domContainer.style.userSelect="none",n.updateDOM(),n}return o(e,t),e.prototype.isRoot=function(){return!0},e.prototype.isLeaf=function(){return!1},e.prototype.getType=function(){return"Doc"},e.prototype.getSize=function(){return void 0===this.size&&(this.size=this.getChildNodes().reduce(function(t,e){return t+e.getSize()},0)),this.size},e.prototype.clearCache=function(){this.size=void 0},e.prototype.appendDOMChild=function(t){this.domContainer.appendChild(t)},e.prototype.insertDOMBefore=function(t,e){this.domContainer.insertBefore(t,e)},e.prototype.removeDOMChild=function(t){this.domContainer.removeChild(t)},e.prototype.getDOMContainer=function(){return this.domContainer},e.prototype.getIsAttachedToDOM=function(){return this.isAttachedToDOM},e.prototype.attachToDOM=function(t){if(this.isAttachedToDOM)throw new Error("Taleweaver is already attached to the DOM.");t.appendChild(this.domContainer),this.isAttachedToDOM=!0,this.parentDOMContainer=t},e.prototype.updateDOM=function(){},e}(r(n(20)).default);e.default=i},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isRoot=function(){return!1},e.prototype.isLeaf=function(){return!0},e.prototype.appendDOMChild=function(t){},e.prototype.insertDOMBefore=function(t,e){},e.prototype.removeDOMChild=function(t){},e}(r(n(20)).default);e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(){}}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(){}}();e.default=o},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(130)),i=new r.default("A");e.AKey=i;var a=new r.default("B");e.BKey=a;var u=new r.default("C");e.CKey=u;var s=new r.default("D");e.DKey=s;var d=new r.default("E");e.EKey=d;var f=new r.default("F");e.FKey=f;var c=new r.default("G");e.GKey=c;var l=new r.default("H");e.HKey=l;var h=new r.default("I");e.IKey=h;var p=new r.default("J");e.JKey=p;var g=new r.default("K");e.KKey=g;var y=new r.default("L");e.LKey=y;var v=new r.default("M");e.MKey=v;var _=new r.default("N");e.NKey=_;var m=new r.default("O");e.OKey=m;var w=new r.default("P");e.PKey=w;var b=new r.default("Q");e.QKey=b;var C=new r.default("R");e.RKey=C;var O=new r.default("S");e.SKey=O;var P=new r.default("T");e.TKey=P;var T=new r.default("U");e.UKey=T;var N=new r.default("V");e.VKey=N;var M=new r.default("W");e.WKey=M;var S=new r.default("X");e.XKey=S;var D=new r.default("Y");e.YKey=D;var x=new r.default("Z");e.ZKey=x;var E=new r.default("Num1");e.Num1Key=E;var k=new r.default("Num2");e.Num2Key=k;var A=new r.default("Num3");e.Num3Key=A;var j=new r.default("Num4");e.Num4Key=j;var L=new r.default("Num5");e.Num5Key=L;var z=new r.default("Num6");e.Num6Key=z;var K=new r.default("Num7");e.Num7Key=K;var R=new r.default("Num8");e.Num8Key=R;var B=new r.default("Num9");e.Num9Key=B;var H=new r.default("Num0");e.Num0Key=H;var I=new r.default("Dash");e.DashKey=I;var W=new r.default("Equal");e.EqualKey=W;var U=new r.default("Space");e.SpaceKey=U;var F=new r.default("ArrowLeft");e.ArrowLeftKey=F;var V=new r.default("ArrowRight");e.ArrowRightKey=V;var $=new r.default("ArrowUp");e.ArrowUpKey=$;var Q=new r.default("ArrowDown");e.ArrowDownKey=Q;var q=new r.default("Backspace");e.BackspaceKey=q;var G=new r.default("Delete");e.DeleteKey=G;var J=new r.default("Enter");e.EnterKey=J},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.code=t}return t.prototype.getCode=function(){return this.code},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){void 0===e&&(e=[]),this.key=t,this.modifierKeys=e}return t.prototype.getCode=function(){var t=this.modifierKeys.map(function(t){return t.getCode()}).sort(),e=this.key.getCode();return t.concat([e]).join("-")},t}();e.default=o},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(131)),i=new r.default("Alt");e.AltKey=i;var a=new r.default("Ctrl");e.CtrlKey=a;var u=new r.default("Meta");e.MetaKey=u;var s=new r.default("Shift");e.ShiftKey=s},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e){var n=t.call(this)||this;return n.updatedNode=e,n}return o(e,t),e.getType=function(){return"LayoutUpdated"},e.prototype.getUpdatedNode=function(){return this.updatedNode},e}(r(n(7)).default);e.default=i},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e){var n=t.call(this)||this;return n.updatedNode=e,n}return o(e,t),e.getType=function(){return"ModelUpdated"},e.prototype.getUpdatedNode=function(){return this.updatedNode},e}(r(n(7)).default);e.default=i},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n,o,r){var i=t.call(this)||this;return i.beforeFrom=e,i.beforeTo=n,i.afterFrom=o,i.afterTo=r,i}return o(e,t),e.getType=function(){return"StateUpdated"},e.prototype.getBeforeFrom=function(){return this.beforeFrom},e.prototype.getBeforeTo=function(){return this.beforeTo},e.prototype.getAfterFrom=function(){return this.afterFrom},e.prototype.getAfterTo=function(){return this.afterTo},e}(r(n(7)).default);e.default=i},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.getType=function(){return"CursorBlurred"},e}(r(n(7)).default);e.default=i},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.getType=function(){return"CursorFocused"},e}(r(n(7)).default);e.default=i},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e){var n=t.call(this)||this;return n.updatedNode=e,n}return o(e,t),e.getType=function(){return"ViewUpdated"},e.prototype.getUpdatedNode=function(){return this.updatedNode},e}(r(n(7)).default);e.default=i},,,,function(t,e,n){t.exports=n(160)},,,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(78)),i=o(n(79)),a=o(n(94)),u=o(n(45)),s=function(){function t(){this.nodeConfig=new i.default,this.keyBindingConfig=new r.default,this.pageConfig=new a.default,this.textConfig=new u.default}return t.prototype.getNodeConfig=function(){return this.nodeConfig},t.prototype.getKeyBindingConfig=function(){return this.keyBindingConfig},t.prototype.getPageConfig=function(){return this.pageConfig},t.prototype.getTextConfig=function(){return this.textConfig},t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){this.keyBindings=new Map}return t.prototype.bindKey=function(t,e){var n=t.getCode();this.keyBindings.has(n)||this.keyBindings.set(n,[]),this.keyBindings.get(n).push(e)},t.prototype.getKeyBindings=function(){return this.keyBindings},t}();e.default=o},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(21)),i=o(n(80)),a=o(n(81)),u=o(n(82)),s=o(n(83)),d=o(n(32)),f=o(n(34)),c=o(n(47)),l=o(n(48)),h=o(n(37)),p=o(n(84)),g=o(n(51)),y=o(n(52)),v=o(n(88)),_=o(n(89)),m=o(n(90)),w=o(n(91)),b=o(n(93)),C=function(){function t(){this.modelNodeClasses=new Map,this.orderedModelNodeClasses=[],this.renderNodeClasses=new Map,this.layoutNodeClasses=new Map,this.viewNodeClasses=new Map,this.registerModelNodeClass("Doc",f.default),this.registerModelNodeClass("Paragraph",c.default),this.registerModelNodeClass("Text",l.default),this.registerRenderNodeClass("Doc",h.default),this.registerRenderNodeClass("Paragraph",p.default),this.registerRenderNodeClass("Text",g.default),this.registerLayoutNodeClass("Doc",r.default),this.registerLayoutNodeClass("Paragraph",u.default),this.registerLayoutNodeClass("Text",s.default),this.registerLayoutNodeClass("TextWord",d.default),this.registerLayoutNodeClass("LineBreak",a.default),this.registerLayoutNodeClass("LineBreakAtomic",i.default),this.registerViewNodeClass("Doc",y.default),this.registerViewNodeClass("Page",m.default),this.registerViewNodeClass("Line",_.default),this.registerViewNodeClass("Paragraph",w.default),this.registerViewNodeClass("Text",b.default),this.registerViewNodeClass("LineBreak",v.default)}return t.prototype.registerModelNodeClass=function(t,e){this.modelNodeClasses.set(t,e),this.orderedModelNodeClasses.push(e)},t.prototype.getModelNodeClass=function(t){if(!this.modelNodeClasses.has(t))throw new Error("Model node type "+t+" is not registered.");return this.modelNodeClasses.get(t)},t.prototype.getAllModelNodeClasses=function(){return this.orderedModelNodeClasses},t.prototype.registerRenderNodeClass=function(t,e){this.renderNodeClasses.set(t,e)},t.prototype.getRenderNodeClass=function(t){if(!this.renderNodeClasses.has(t))throw new Error("Render node for model node type "+t+" is not registered.");return this.renderNodeClasses.get(t)},t.prototype.registerLayoutNodeClass=function(t,e){this.layoutNodeClasses.set(t,e)},t.prototype.getLayoutNodeClass=function(t){if(!this.layoutNodeClasses.has(t))throw new Error("Layout node for render node type "+t+" is not registered.");return this.layoutNodeClasses.get(t)},t.prototype.registerViewNodeClass=function(t,e){this.viewNodeClasses.set(t,e)},t.prototype.getViewNodeClass=function(t){if(!this.viewNodeClasses.has(t))throw new Error("View node for layout node type "+t+" is not registered.");return this.viewNodeClasses.get(t)},t}();e.default=C},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(45),a=r(n(23)),u=r(n(32)),s=r(n(46)),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getType=function(){return"LineBreakAtomic"},e.prototype.getSize=function(){return 1},e.prototype.getBreakable=function(){return!0},e.prototype.getWidth=function(){return void 0!==this.width&&void 0!==this.height||this.updateBoundingBox(),this.width},e.prototype.getWidthWithoutTrailingWhitespace=function(){return 0},e.prototype.getHeight=function(){return void 0!==this.width&&void 0!==this.height||this.updateBoundingBox(),this.height},e.prototype.clearCache=function(){this.width=void 0,this.height=void 0},e.prototype.splitAtWidth=function(t){throw new Error("Cannot split line break atomic box.")},e.prototype.convertCoordinatesToOffset=function(t){return 0},e.prototype.resolveRects=function(t,e){return t===e?[{left:0,right:this.getWidth(),top:0,bottom:0,width:0,height:this.getHeight(),paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}]:[{left:0,right:0,top:0,bottom:0,width:this.getWidth(),height:this.getHeight(),paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}]},e.prototype.updateBoundingBox=function(){var t=this.getPreviousSibling(),e=i.DEFAULT_STYLE;if(t){t instanceof u.default&&(e=t.getTextStyle());var n=s.default(" ",e);this.width=n.width,this.height=t.getHeight()}else{n=s.default(" ",e);this.width=n.width,this.height=n.height}},e}(a.default);e.default=d},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n){var o=t.call(this,e,n.getID())||this;return o.renderNode=n,o}return o(e,t),e.prototype.getType=function(){return"LineBreak"},e.prototype.getPaddingTop=function(){return 3},e.prototype.getPaddingBottom=function(){return 6},e.prototype.splitAt=function(t){throw new Error("Cannot split line break inline box.")},e.prototype.join=function(t){},e}(r(n(18)).default);e.default=i},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n){var o=t.call(this,e,n.getID())||this;return o.renderNode=n,o}return o(e,t),e.prototype.getPaddingTop=function(){return 0},e.prototype.getPaddingBottom=function(){return 12},e.prototype.getType=function(){return"Paragraph"},e.prototype.splitAt=function(t){for(var n=new e(this.editor,this.renderNode);this.getChildNodes().length>t;){var o=this.getChildNodes()[t];this.removeChild(o),n.appendChild(o)}return this.clearCache(),n},e.prototype.join=function(t){var e=this;t.getChildNodes().slice().forEach(function(n){t.removeChild(n),e.appendChild(n)}),this.clearCache(),t.clearCache()},e.prototype.onUpdated=function(e){t.prototype.onUpdated.call(this,e)},e}(r(n(33)).default);e.default=i},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n){var o=t.call(this,e,n.getID())||this;return o.renderNode=n,o}return o(e,t),e.prototype.getType=function(){return"Text"},e.prototype.getPaddingTop=function(){return 3},e.prototype.getPaddingBottom=function(){return 6},e.prototype.splitAt=function(t){for(var n=new e(this.editor,this.renderNode);this.getChildNodes().length>t;){var o=this.getChildNodes()[t];this.removeChild(o),n.appendChild(o)}return this.clearCache(),n},e.prototype.join=function(t){var e=this;t.getChildNodes().slice().forEach(function(n){t.removeChild(n),e.appendChild(n)}),this.clearCache(),t.clearCache()},e.prototype.getTextStyle=function(){return this.renderNode.getTextStyle()},e}(r(n(18)).default);e.default=i},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n){return t.call(this,e,n.getID())||this}return o(e,t),e.prototype.getType=function(){return"Paragraph"},e}(r(n(38)).default);e.default=i},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n){return t.call(this,e,n+"-LineBreakAtomic")||this}return o(e,t),e.prototype.getType=function(){return"LineBreakAtomic"},e.prototype.getSize=function(){return 1},e.prototype.getModelSize=function(){return 0},e.prototype.getBreakable=function(){return!0},e.prototype.clearCache=function(){},e.prototype.convertOffsetToModelOffset=function(t){return-1},e}(r(n(6)).default);e.default=i},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n,o,r,i){var a=t.call(this,e,n.getID()+"-"+o)||this;return a.content=i.text,a.breakable=i.breakable,a.textStyle=r,a}return o(e,t),e.prototype.getType=function(){return"TextWord"},e.prototype.getSize=function(){return this.content.length},e.prototype.clearCache=function(){},e.prototype.getContent=function(){return this.content},e.prototype.getBreakable=function(){return this.breakable},e.prototype.getTextStyle=function(){return this.textStyle},e.prototype.onUpdated=function(e){this.content=e.getContent(),this.breakable=e.getBreakable(),this.textStyle=e.getTextStyle(),t.prototype.onUpdated.call(this,e)},e}(r(n(6)).default);e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=[" ","\n","\t"];e.default=function(t){for(var e=[],n="",r=0,i=t.length;r<i;r++){var a=t[r];n+=a,o.includes(a)&&(e.push({text:n,breakable:!0}),n="")}return n.length>0&&e.push({text:n,breakable:!1}),e}},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n){var o=t.call(this,e,n)||this;return o.domContainer=document.createElement("span"),o.domContainer.className="tw--line-break-inline",o.domContainer.setAttribute("data-tw-id",o.getID()),o.domContainer.setAttribute("data-tw-role","inline"),o.domContainer.style.display="inline-block",o.domContainer.style.whiteSpace="pre",o.domContainer.style.lineHeight="1em",o.domContainer.innerText=" ",o.updateDOM(),o}return o(e,t),e.prototype.getType=function(){return"LineBreak"},e.prototype.getSize=function(){return 1},e.prototype.clearCache=function(){},e.prototype.getDOMContainer=function(){return this.domContainer},e.prototype.updateDOM=function(){},e}(r(n(53)).default);e.default=i},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n){var o=t.call(this,e,n)||this;return o.layoutNode=n,o.domContainer=document.createElement("div"),o.domContainer.className="tw--line",o.domContainer.setAttribute("data-tw-id",o.getID()),o.domContainer.setAttribute("data-tw-role","line"),o.domContainer.style.whiteSpace="pre",o.domContainer.style.lineHeight="0",o.updateDOM(),o}return o(e,t),e.prototype.isRoot=function(){return!1},e.prototype.isLeaf=function(){return!1},e.prototype.getType=function(){return"Page"},e.prototype.getSize=function(){return void 0===this.size&&(this.size=this.getChildNodes().reduce(function(t,e){return t+e.getSize()},0)),this.size},e.prototype.clearCache=function(){this.size=void 0},e.prototype.appendDOMChild=function(t){this.domContainer.appendChild(t)},e.prototype.insertDOMBefore=function(t,e){this.domContainer.insertBefore(t,e)},e.prototype.removeDOMChild=function(t){this.domContainer.removeChild(t)},e.prototype.getDOMContainer=function(){return this.domContainer},e.prototype.updateDOM=function(){},e}(r(n(20)).default);e.default=i},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n){var o=t.call(this,e,n)||this;return o.layoutNode=n,o.domContainer=document.createElement("div"),o.domContainer.className="tw--page",o.domContainer.setAttribute("data-tw-instance",e.getID()),o.domContainer.setAttribute("data-tw-id",o.getID()),o.domContainer.setAttribute("data-tw-role","page"),o.domContentContainer=document.createElement("div"),o.domContentContainer.className="tw--page-inner",o.domContentContainer.style.position="relative",o.domContentContainer.style.marginLeft="auto",o.domContentContainer.style.marginRight="auto",o.domContainer.appendChild(o.domContentContainer),o.domContentInnerContainer=document.createElement("div"),o.domContentInnerContainer.className="tw--page-content",o.domContentInnerContainer.setAttribute("data-tw-role","page-content"),o.domContentContainer.appendChild(o.domContentInnerContainer),o.updateDOM(),o}return o(e,t),e.prototype.isRoot=function(){return!1},e.prototype.isLeaf=function(){return!1},e.prototype.getType=function(){return"Page"},e.prototype.getSize=function(){return void 0===this.size&&(this.size=this.getChildNodes().reduce(function(t,e){return t+e.getSize()},0)),this.size},e.prototype.clearCache=function(){this.size=void 0},e.prototype.appendDOMChild=function(t){this.domContentInnerContainer.appendChild(t)},e.prototype.insertDOMBefore=function(t,e){this.domContentInnerContainer.insertBefore(t,e)},e.prototype.removeDOMChild=function(t){this.domContentInnerContainer.removeChild(t)},e.prototype.getDOMContainer=function(){return this.domContainer},e.prototype.getDOMContentContainer=function(){return this.domContentContainer},e.prototype.getDOMContentInnerContainer=function(){return this.domContentInnerContainer},e.prototype.updateDOM=function(){var t=this.editor.getConfig().getPageConfig(),e=this.layoutNode,n=this.domContentContainer;n.style.width=e.getOuterWidth()+"px",t.getShouldTrimPageBottom()?n.style.maxHeight=e.getOuterHeight()+"px":n.style.height=e.getOuterHeight()+"px",n.style.paddingTop=e.getPaddingTop()+"px",n.style.paddingBottom=e.getPaddingBottom()+"px",n.style.paddingLeft=e.getPaddingLeft()+"px",n.style.paddingRight=e.getPaddingRight()+"px"},e}(r(n(20)).default);e.default=i},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n){var o=t.call(this,e,n)||this;return o.layoutNode=n,o.domContainer=document.createElement("div"),o.domContainer.className="tw--paragraph-block",o.domContainer.setAttribute("data-tw-id",n.getID()),o.domContainer.setAttribute("data-tw-role","block"),o.updateDOM(),o}return o(e,t),e.prototype.getType=function(){return"Paragraph"},e.prototype.appendDOMChild=function(t){this.domContainer.appendChild(t)},e.prototype.insertDOMBefore=function(t,e){this.domContainer.insertBefore(t,e)},e.prototype.removeDOMChild=function(t){this.domContainer.removeChild(t)},e.prototype.getDOMContainer=function(){return this.domContainer},e.prototype.updateDOM=function(){var t=this.layoutNode,e=this.domContainer;e.style.width=t.getWidth()+"px",e.style.height=t.getHeight()+"px",e.style.paddingTop=t.getPaddingTop()+"px",e.style.paddingBottom=t.getPaddingBottom()+"px"},e}(r(n(92)).default);e.default=i},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isRoot=function(){return!1},e.prototype.isLeaf=function(){return!1},e.prototype.getSize=function(){return void 0===this.size&&(this.size=this.getChildNodes().reduce(function(t,e){return t+e.getSize()},0)),this.size},e.prototype.clearCache=function(){this.size=void 0},e}(r(n(20)).default);e.default=i},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(32)),a=function(t){function e(e,n){var o=t.call(this,e,n)||this;return o.layoutNode=n,o.domContainer=document.createElement("span"),o.domContainer.className="tw--text-inline",o.domContainer.setAttribute("data-tw-id",n.getID()),o.domContainer.setAttribute("data-tw-role","inline"),o.domContainer.style.display="inline-block",o.domContainer.style.whiteSpace="pre",o.domContainer.style.lineHeight="1em",o.domContent=document.createElement("span"),o.domContent.className="tw--text-inline-content",o.domContainer.appendChild(o.domContent),o.updateDOM(),o}return o(e,t),e.prototype.getType=function(){return"Text"},e.prototype.getSize=function(){return 0},e.prototype.clearCache=function(){},e.prototype.getDOMContainer=function(){return this.domContainer},e.prototype.updateDOM=function(){var t=this.layoutNode,e=t.getTextStyle(),n=t.getChildNodes().map(function(t){return t instanceof i.default?t.getContent():""}).join(""),o=this.domContainer,r=this.domContent;o.style.paddingTop=t.getPaddingTop()+"px",o.style.paddingBottom=t.getPaddingBottom()+"px",o.style.fontFamily=e.font,o.style.fontSize=e.size+"px",o.style.letterSpacing=e.letterSpacing+"px",o.style.fontWeight=""+e.weight,o.style.color=e.color,o.style.textDecoration=e.underline?"underline":null,o.style.fontStyle=e.italic?"italic":null,r.style.textDecoration=e.strikethrough?"line-through":null,r.innerText=n},e}(r(n(53)).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){this.pageWidth=816,this.pageHeight=1056,this.pagePaddingTop=40,this.pagePaddingBottom=40,this.pagePaddingLeft=40,this.pagePaddingRight=40,this.shouldTrimPageBottom=!1}return t.prototype.setPageWidth=function(t){this.pageWidth=t},t.prototype.getPageWidth=function(){return this.pageWidth},t.prototype.setPageHeight=function(t){this.pageHeight=t},t.prototype.getPageHeight=function(){return this.pageHeight},t.prototype.setPagePaddingTop=function(t){this.pagePaddingTop=t},t.prototype.getPagePaddingTop=function(){return this.pagePaddingTop},t.prototype.setPagePaddingBottom=function(t){this.pagePaddingBottom=t},t.prototype.getPagePaddingBottom=function(){return this.pagePaddingBottom},t.prototype.setPagePaddingLeft=function(t){this.pagePaddingLeft=t},t.prototype.getPagePaddingLeft=function(){return this.pagePaddingLeft},t.prototype.setPagePaddingRight=function(t){this.pagePaddingRight=t},t.prototype.getPagePaddingRight=function(){return this.pagePaddingRight},t.prototype.setShouldTrimPageBottom=function(t){this.shouldTrimPageBottom=t},t.prototype.getShouldTrimPageBottom=function(){return this.shouldTrimPageBottom},t}();e.default=o},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(96)),i=o(n(98)),a=o(n(99)),u=o(n(101)),s=o(n(132)),d=o(n(137)),f=o(n(140)),c=o(n(143)),l=o(n(8)),h=o(n(147)),p=function(){function t(t){this.id=l.default(),this.config=t,this.dispatcher=new i.default(this),this.cursorService=new r.default(this),this.historyService=new a.default(this),this.stateService=new c.default(this),this.modelService=new d.default(this),this.renderService=new f.default(this),this.layoutService=new s.default(this),this.viewService=new h.default(this),u.default(this)}return t.prototype.getID=function(){return this.id},t.prototype.getConfig=function(){return this.config},t.prototype.getDispatcher=function(){return this.dispatcher},t.prototype.getHistoryService=function(){return this.historyService},t.prototype.getCursorService=function(){return this.cursorService},t.prototype.getStateService=function(){return this.stateService},t.prototype.getModelService=function(){return this.modelService},t.prototype.getRenderService=function(){return this.renderService},t.prototype.getLayoutService=function(){return this.layoutService},t.prototype.getViewService=function(){return this.viewService},t.prototype.start=function(t,e){this.stateService.initialize(t),this.viewService.attachToDOM(e)},t}();e.default=p},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(97)),i=function(){function t(t,e){void 0===e&&(e=!0),this.editor=t,e&&(this.cursor=new r.default(t))}return t.prototype.hasCursor=function(){return!!this.cursor},t.prototype.set=function(t,e,n){this.cursor?this.cursor.set(t,e,n):console.warn("Attempted to set cursor position but there is no cursor.")},t.prototype.getAnchor=function(){return this.cursor?this.cursor.getAnchor():-1},t.prototype.getHead=function(){return this.cursor?this.cursor.getHead():-1},t.prototype.getLeftLock=function(){return this.cursor?this.cursor.getLeftLock():-1},t}();e.default=i},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(28)),i=function(){function t(t){this.anchor=0,this.head=0,this.leftLock=null,this.editor=t}return t.prototype.set=function(t,e,n){this.anchor=t,this.head=e,this.leftLock=n,this.editor.getDispatcher().dispatch(new r.default)},t.prototype.getAnchor=function(){return this.anchor},t.prototype.getHead=function(){return this.head},t.prototype.getLeftLock=function(){return this.leftLock},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.editor=t,this.subscribers=new Map}return t.prototype.dispatch=function(t){var e=t.getType();this.subscribers.has(e)&&this.subscribers.get(e).forEach(function(e){return e(t)})},t.prototype.on=function(t,e){var n,o=t.getType();this.subscribers.has(o)?n=this.subscribers.get(o):(n=[],this.subscribers.set(o,n)),n.push(e)},t.prototype.dispatchCommand=function(t){var e=t(this.editor);this.editor.getStateService().applyTransformation(e)},t.prototype.dispatchUndo=function(){this.editor.getHistoryService().undo()},t.prototype.dispatchRedo=function(){this.editor.getHistoryService().redo()},t.prototype.dispatchKeyPress=function(t){var e=this.editor.getConfig().getKeyBindingConfig().getKeyBindings(),n=t.getCode();if(!e.has(n))return!1;var o=e.get(n);return 0!==o.length&&(o.forEach(function(t){return t()}),!0)},t}();e.default=o},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(100)),i=function(){function t(t){this.editor=t,this.historyEngine=new r.default(t)}return t.prototype.undo=function(){this.historyEngine.undo()},t.prototype.redo=function(){this.historyEngine.redo()},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){this.appliedTransformations=[],this.timestamp=Date.now(),this.lastTimestamp=this.timestamp}return t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.getLastTimestamp=function(){return this.lastTimestamp},t.prototype.addAppliedTransformation=function(t){this.appliedTransformations.push(t),this.lastTimestamp=Date.now()},t.prototype.getAppliedTransformations=function(){return this.appliedTransformations},t}(),r=function(){function t(t){this.changes=[],this.pointer=-1,this.editor=t}return t.prototype.undo=function(){var t=this.getNextChangeToUndo();if(t){var e=this.editor.getStateService(),n=t.getAppliedTransformations();e.unapplyTransformations(n);var o=this.editor.getCursorService(),r=n[0];o.set(r.getOriginalCursorAnchor(),r.getOriginalCursorHead(),r.getOriginalCursorLockLeft())}},t.prototype.redo=function(){this.getNextChangeToRedo()},t.prototype.recordAppliedTransformation=function(t){if(0!==t.getOperations().length)if(this.pointer<this.changes.length-1&&this.changes.splice(this.pointer+1,this.changes.length-1-this.pointer),this.pointer<0)this.recordAppliedTransformationToNewItem(t);else{var e=this.changes[this.pointer],n=Date.now();n-e.getTimestamp()<2e3&&n-e.getLastTimestamp()<500?this.recordAppliedTransformationToLastItem(t):this.recordAppliedTransformationToNewItem(t)}},t.prototype.recordAppliedTransformationToNewItem=function(t){var e=new o;e.addAppliedTransformation(t),this.changes.push(e),this.pointer++},t.prototype.recordAppliedTransformationToLastItem=function(t){var e=this.changes[this.pointer];if(!e)throw new Error("Error recording applied transformation, history is empty.");e.addAppliedTransformation(t)},t.prototype.getNextChangeToUndo=function(){if(this.pointer<0)return null;var t=this.changes[this.pointer];return this.pointer-=1,t},t.prototype.getNextChangeToRedo=function(){return this.pointer>this.changes.length-2?null:(this.pointer+=1,this.changes[this.pointer])},t}();e.default=r},function(t,e,n){"use strict";var o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(39),a=o(n(56)),u=r(n(58)),s=o(n(59));e.default=function(t){var e=t.getConfig().getKeyBindingConfig(),n=t.getDispatcher();e.bindKey(new u.default(a.ArrowLeftKey),function(){return n.dispatchCommand(i.moveCursorLeft())}),e.bindKey(new u.default(a.ArrowRightKey),function(){return n.dispatchCommand(i.moveCursorRight())}),e.bindKey(new u.default(a.ArrowLeftKey,[s.ShiftKey]),function(){return n.dispatchCommand(i.moveCursorHeadLeft())}),e.bindKey(new u.default(a.ArrowRightKey,[s.ShiftKey]),function(){return n.dispatchCommand(i.moveCursorHeadRight())}),e.bindKey(new u.default(a.ArrowLeftKey,[s.AltKey]),function(){return n.dispatchCommand(i.moveCursorLeftByWord())}),e.bindKey(new u.default(a.ArrowRightKey,[s.AltKey]),function(){return n.dispatchCommand(i.moveCursorRightByWord())}),e.bindKey(new u.default(a.ArrowLeftKey,[s.AltKey,s.ShiftKey]),function(){return n.dispatchCommand(i.moveCursorHeadLeftByWord())}),e.bindKey(new u.default(a.ArrowRightKey,[s.AltKey,s.ShiftKey]),function(){return n.dispatchCommand(i.moveCursorHeadRightByWord())}),e.bindKey(new u.default(a.ArrowLeftKey,[s.MetaKey]),function(){return n.dispatchCommand(i.moveCursorToLeftOfLine())}),e.bindKey(new u.default(a.ArrowRightKey,[s.MetaKey]),function(){return n.dispatchCommand(i.moveCursorToRightOfLine())}),e.bindKey(new u.default(a.ArrowLeftKey,[s.MetaKey,s.ShiftKey]),function(){return n.dispatchCommand(i.moveCursorHeadToLeftOfLine())}),e.bindKey(new u.default(a.ArrowRightKey,[s.MetaKey,s.ShiftKey]),function(){return n.dispatchCommand(i.moveCursorHeadToRightOfLine())}),e.bindKey(new u.default(a.ArrowUpKey),function(){return n.dispatchCommand(i.moveCursorToLineAbove())}),e.bindKey(new u.default(a.ArrowDownKey),function(){return n.dispatchCommand(i.moveCursorToLineBelow())}),e.bindKey(new u.default(a.ArrowUpKey,[s.ShiftKey]),function(){return n.dispatchCommand(i.moveCursorHeadToLineAbove())}),e.bindKey(new u.default(a.ArrowDownKey,[s.ShiftKey]),function(){return n.dispatchCommand(i.moveCursorHeadToLineBelow())}),e.bindKey(new u.default(a.ArrowUpKey,[s.MetaKey]),function(){return n.dispatchCommand(i.moveCursorToLeftOfDoc())}),e.bindKey(new u.default(a.ArrowDownKey,[s.MetaKey]),function(){return n.dispatchCommand(i.moveCursorToRightOfDoc())}),e.bindKey(new u.default(a.ArrowUpKey,[s.MetaKey,s.ShiftKey]),function(){return n.dispatchCommand(i.moveCursorHeadToLeftOfDoc())}),e.bindKey(new u.default(a.ArrowDownKey,[s.MetaKey,s.ShiftKey]),function(){return n.dispatchCommand(i.moveCursorHeadToRightOfDoc())}),e.bindKey(new u.default(a.AKey,[s.MetaKey]),function(){return n.dispatchCommand(i.selectAll())}),e.bindKey(new u.default(a.BackspaceKey),function(){return n.dispatchCommand(i.deleteBackward())}),e.bindKey(new u.default(a.DeleteKey),function(){return n.dispatchCommand(i.deleteForward())}),e.bindKey(new u.default(a.EnterKey),function(){return n.dispatchCommand(i.split())}),e.bindKey(new u.default(a.ZKey,[s.MetaKey]),function(){return n.dispatchUndo()}),e.bindKey(new u.default(a.ZKey,[s.MetaKey,s.ShiftKey]),function(){return n.dispatchRedo()})}},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(1));e.default=function(){return function(t){var e=t.getCursorService(),n=t.getRenderService(),o=new r.default;if(!e.hasCursor())return o;var i=n.getDocSize();return o.setCursor(0),o.setCursorHead(i-1),o}}},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(12)),i=o(n(1));e.default=function(){return function(t){var e=t.getCursorService(),n=t.getRenderService(),o=new i.default;if(!e.hasCursor())return o;var a=e.getAnchor(),u=e.getHead();if(a===u){if(u<1)return o;o.addOperation(new r.default(n.convertOffsetToModelOffset(u-1),n.convertOffsetToModelOffset(u))),o.setCursor(u-1)}else a<u?(o.addOperation(new r.default(n.convertOffsetToModelOffset(a),n.convertOffsetToModelOffset(u))),o.setCursor(a)):a>u&&(o.addOperation(new r.default(n.convertOffsetToModelOffset(u),n.convertOffsetToModelOffset(a))),o.setCursor(u));return o}}},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(12)),i=o(n(1));e.default=function(){return function(t){var e=t.getCursorService(),n=t.getRenderService(),o=new i.default;if(!e.hasCursor())return o;var a=e.getAnchor(),u=e.getHead();if(a===u){if(u>=n.getDocSize()-1)return o;o.addOperation(new r.default(n.convertOffsetToModelOffset(u),n.convertOffsetToModelOffset(u+1)))}else a<u?(o.addOperation(new r.default(n.convertOffsetToModelOffset(a),n.convertOffsetToModelOffset(u))),o.setCursor(a)):a>u&&(o.addOperation(new r.default(n.convertOffsetToModelOffset(u),n.convertOffsetToModelOffset(a))),o.setCursor(u));return o}}},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(24)),i=o(n(4)),a=o(n(12)),u=o(n(27)),s=o(n(1));e.default=function(t){return function(e){var n=e.getCursorService(),o=e.getRenderService(),d=new s.default;if(!n.hasCursor())return d;var f=n.getAnchor(),c=n.getHead(),l=f;f<c?d.addOperation(new a.default(o.convertOffsetToModelOffset(f),o.convertOffsetToModelOffset(c))):f>c&&(d.addOperation(new a.default(o.convertOffsetToModelOffset(c),o.convertOffsetToModelOffset(f))),l=c),d.addOperation(new u.default(o.convertOffsetToModelOffset(l),t));var h=e.getConfig().getNodeConfig(),p=t.filter(function(t){return"string"===typeof t||t instanceof i.default&&h.getModelNodeClass(t.getType()).prototype instanceof r.default}).length;return d.setCursor(l+p),d}}},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(1));e.default=function(){return function(t){var e=t.getCursorService(),n=new r.default;if(!e.hasCursor())return n;var o=e.getHead();return o<1?n:(n.setCursorHead(o-1),n)}}},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(6)),i=o(n(1));e.default=function(){return function(t){var e=t.getCursorService(),n=t.getRenderService(),o=new i.default;if(!e.hasCursor())return o;var a=e.getHead(),u=n.resolvePosition(a).getLeaf(),s=u.getNode();if(!(s instanceof r.default))throw new Error("Expecting position to be referencing an atomic node.");if(u.getOffset()>0)o.setCursorHead(a-u.getOffset());else{var d=s.getPreviousSiblingAllowCrossParent();d&&o.setCursorHead(a-d.getSize())}return o}}},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(1));e.default=function(){return function(t){var e=t.getCursorService(),n=t.getLayoutService(),o=new r.default;if(!e.hasCursor())return o;var i=e.getHead();return i>=n.getDoc().getSize()-1?o:(o.setCursorHead(i+1),o)}}},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(6)),i=o(n(1));e.default=function(){return function(t){var e=t.getCursorService(),n=t.getRenderService(),o=new i.default;if(!e.hasCursor())return o;var a=e.getHead(),u=n.resolvePosition(a).getLeaf(),s=u.getNode();if(!(s instanceof r.default))throw new Error("Expecting position to be referencing an atomic node.");if(u.getOffset()<s.getSize()-1)o.setCursorHead(a-u.getOffset()+s.getSize()-1);else{var d=s.getNextSiblingAllowCrossParent();if(d){var f=a-u.getOffset()+s.getSize()+d.getSize();d.getBreakable()&&f--,o.setCursorHead(f)}}return o}}},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(1));e.default=function(t){return function(e){var n=new r.default;return n.setCursorHead(t),n}}},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(1));e.default=function(){return function(t){var e=t.getCursorService(),n=new r.default;return e.hasCursor()?(n.setCursorHead(0),n):n}}},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(1));e.default=function(){return function(t){var e=t.getCursorService(),n=t.getLayoutService(),o=new r.default;if(!e.hasCursor())return o;var i=e.getHead(),a=n.resolvePosition(i).getLeaf().getParent().getParent();return a.getOffset()>0?o.setCursorHead(i-a.getOffset()):o.setCursorHead(i),o}}},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(9)),i=o(n(1));e.default=function(){return function(t){var e=t.getCursorService(),n=t.getLayoutService(),o=new i.default;if(!e.hasCursor())return o;var a=e.getHead(),u=n.resolvePosition(a).getLeaf().getParent().getParent(),s=u.getNode();if(!(s instanceof r.default))throw new Error("Expecting position to be referencing an line node.");var d=s.getPreviousSiblingAllowCrossParent();if(d){var f=e.getLeftLock();null===f&&(f=s.resolveRects(u.getOffset(),u.getOffset())[0].left),o.setCursorLockLeft(f);var c=d.convertCoordinatesToOffset(f);o.setCursorHead(a-u.getOffset()-d.getSize()+c)}else o.setCursorHead(a-u.getOffset());return o}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e=0;e<t.length;e++){var n=t[e];if(0!==e){var o=t[e-1];n.top===o.top&&n.height===o.height&&n.left===o.left+o.width&&(o.width+=n.width,o.right=n.right,t.splice(e,1),e-=1)}}}},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(9)),i=o(n(1));e.default=function(){return function(t){var e=t.getCursorService(),n=t.getLayoutService(),o=new i.default;if(!e.hasCursor())return o;var a=e.getHead(),u=n.resolvePosition(a).getLeaf().getParent().getParent(),s=u.getNode();if(!(s instanceof r.default))throw new Error("Expecting position to be referencing an line node.");var d=s.getNextSiblingAllowCrossParent();if(d){var f=e.getLeftLock();null===f&&(f=s.resolveRects(u.getOffset(),u.getOffset())[0].left),o.setCursorLockLeft(f);var c=d.convertCoordinatesToOffset(f);o.setCursorHead(a-u.getOffset()+s.getSize()+c)}else o.setCursorHead(a-u.getOffset()+s.getSize()-1);return o}}},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(1));e.default=function(){return function(t){var e=t.getCursorService(),n=t.getLayoutService(),o=new r.default;if(!e.hasCursor())return o;var i=n.getDoc();return o.setCursorHead(i.getSize()-1),o}}},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(9)),i=o(n(1));e.default=function(){return function(t){var e=t.getCursorService(),n=t.getLayoutService(),o=new i.default;if(!e.hasCursor())return o;var a=e.getHead(),u=n.resolvePosition(a).getLeaf().getParent().getParent(),s=u.getNode();if(!(s instanceof r.default))throw new Error("Expecting position to be referencing an line layout node.");return u.getOffset()<s.getSize()-1?o.setCursorHead(a-u.getOffset()+s.getSize()-1):o.setCursorHead(a),o}}},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(1));e.default=function(){return function(t){var e=t.getCursorService(),n=new r.default;if(!e.hasCursor())return n;var o=e.getAnchor(),i=e.getHead();if(o===i){if(i<1)return n;n.setCursor(i-1)}else o<i?n.setCursor(o):o>i&&n.setCursor(i);return n}}},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(6)),i=o(n(1));e.default=function(){return function(t){var e=t.getCursorService(),n=t.getRenderService(),o=new i.default;if(!e.hasCursor())return o;var a=e.getHead(),u=n.resolvePosition(a).getLeaf();if(u.getOffset()>0)o.setCursor(a-u.getOffset());else{var s=u.getNode();if(!(s instanceof r.default))throw new Error("Expecting position to be referencing an atomic node.");var d=s.getPreviousSiblingAllowCrossParent();d?o.setCursor(a-d.getSize()):o.setCursor(a)}return o}}},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(1));e.default=function(){return function(t){var e=t.getCursorService(),n=t.getLayoutService(),o=new r.default;if(!e.hasCursor())return o;var i=e.getAnchor(),a=e.getHead(),u=n.getDoc();if(i===a){if(a>=u.getSize()-1)return o;o.setCursor(a+1)}else i<a?o.setCursor(a):i>a&&o.setCursor(i);return o}}},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(6)),i=o(n(1));e.default=function(){return function(t){var e=t.getCursorService(),n=t.getRenderService(),o=new i.default;if(!e.hasCursor())return o;var a=e.getHead(),u=n.resolvePosition(a).getLeaf(),s=u.getNode();if(!(s instanceof r.default))throw new Error("Expecting position to be referencing an atomic node.");if(u.getOffset()<s.getSize()-1)o.setCursor(a-u.getOffset()+s.getSize()-1);else{var d=s.getNextSiblingAllowCrossParent();if(d){var f=a-u.getOffset()+s.getSize()+d.getSize();d.getBreakable()&&f--,o.setCursor(f)}else o.setCursor(a)}return o}}},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(1));e.default=function(t){return function(e){var n=new r.default;return n.setCursor(t),n}}},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(1));e.default=function(){return function(t){var e=new r.default;return t.getCursorService().hasCursor()?(e.setCursor(0),e):e}}},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(1));e.default=function(){return function(t){var e=t.getCursorService(),n=t.getLayoutService(),o=new r.default;if(!e.hasCursor())return o;var i=e.getHead(),a=n.resolvePosition(i).getLeaf().getParent().getParent();return a.getOffset()>0?o.setCursor(i-a.getOffset()):o.setCursor(i),o}}},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(9)),i=o(n(1));e.default=function(){return function(t){var e=t.getCursorService(),n=t.getLayoutService(),o=new i.default;if(!e.hasCursor())return o;var a=Math.min(e.getAnchor(),e.getHead()),u=n.resolvePosition(a).getLeaf().getParent().getParent(),s=u.getNode();if(!(s instanceof r.default))throw new Error("Expecting position to be referencing an line node.");var d=s.getPreviousSiblingAllowCrossParent();if(d){var f=e.getLeftLock();null===f&&(f=s.resolveRects(u.getOffset(),u.getOffset())[0].left),o.setCursorLockLeft(f);var c=d.convertCoordinatesToOffset(f);o.setCursor(a-u.getOffset()-d.getSize()+c)}else o.setCursor(a-u.getOffset());return o}}},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(9)),i=o(n(1));e.default=function(){return function(t){var e=t.getCursorService(),n=t.getLayoutService(),o=new i.default;if(!e.hasCursor())return o;var a=Math.max(e.getAnchor(),e.getHead()),u=n.resolvePosition(a).getLeaf().getParent().getParent(),s=u.getNode();if(!(s instanceof r.default))throw new Error("Expecting position to be referencing an line node.");var d=s.getNextSiblingAllowCrossParent();if(d){var f=e.getLeftLock();null===f&&(f=s.resolveRects(u.getOffset(),u.getOffset())[0].left),o.setCursorLockLeft(f);var c=d.convertCoordinatesToOffset(f);o.setCursor(a-u.getOffset()+s.getSize()+c)}else o.setCursor(a-u.getOffset()+s.getSize()-1);return o}}},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(1));e.default=function(){return function(t){var e=t.getCursorService(),n=t.getLayoutService(),o=new r.default;if(!e.hasCursor())return o;var i=n.getDoc();return o.setCursor(i.getSize()-1),o}}},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(9)),i=o(n(1));e.default=function(){return function(t){var e=t.getCursorService(),n=t.getLayoutService(),o=new i.default;if(!e.hasCursor())return o;var a=e.getHead(),u=n.resolvePosition(a).getLeaf().getParent().getParent(),s=u.getNode();if(!(s instanceof r.default))throw new Error("Expecting position to be referencing an line layout node.");return u.getOffset()<s.getSize()-1?o.setCursor(a-u.getOffset()+s.getSize()-1):o.setCursor(a),o}}},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(5)),i=o(n(4)),a=o(n(12)),u=o(n(27)),s=o(n(1)),d=o(n(8));e.default=function(){return function(t){var e=t.getStateService(),n=t.getCursorService(),o=t.getRenderService(),f=new s.default;if(!n.hasCursor())return f;var c=n.getAnchor(),l=n.getHead(),h=c;c<l?f.addOperation(new a.default(o.convertOffsetToModelOffset(c),o.convertOffsetToModelOffset(l))):c>l&&(f.addOperation(new a.default(o.convertOffsetToModelOffset(l),o.convertOffsetToModelOffset(c))),h=l);for(var p,g=o.convertOffsetToModelOffset(h),y=e.getTokens(),v=null,_=null,m=g;m>0;m--)(p=y[m])instanceof i.default&&(null===v?v=p:null===_&&(_=p));if(null===v||null===_)throw new Error("State is corrupted, cannot perform split.");return f.addOperation(new u.default(o.convertOffsetToModelOffset(h),[new r.default,new r.default,new i.default(_.getType(),d.default(),_.getAttributes()),new i.default(v.getType(),d.default(),v.getAttributes())])),f.setCursor(h+1),f}}},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(r(n(57)).default);e.default=i},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(r(n(57)).default);e.default=i},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(133)),i=function(){function t(t){this.editor=t,this.layoutEngine=new r.default(t)}return t.prototype.getDoc=function(){return this.layoutEngine.getDoc()},t.prototype.getPages=function(){return this.layoutEngine.getDoc().getChildNodes()},t.prototype.resolveRects=function(t,e){return this.layoutEngine.getDoc().resolveRects(t,e)},t.prototype.resolvePosition=function(t){return this.layoutEngine.getDoc().resolvePosition(t)},t}();e.default=i},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(60)),i=o(n(29)),a=o(n(6)),u=o(n(38)),s=o(n(19)),d=o(n(21)),f=o(n(134)),c=o(n(135)),l=function(){function t(t){var e=this;this.handleRenderUpdatedEvent=function(t){var n=t.getUpdatedNode();n instanceof a.default?n=n.getParent().getParent():n instanceof s.default?n=n.getParent():n instanceof u.default&&(n=n.getParent());var o=e.doc.findDescendant(n.getID()),i=new c.default(e.editor,n).run();o.onUpdated(i),e.deduplicateNode(o),e.clearAncestorsCache(o);var d=new f.default(e.editor,o).run();e.editor.getDispatcher().dispatch(new r.default(d))},this.editor=t,this.doc=new d.default(t),t.getDispatcher().on(i.default,this.handleRenderUpdatedEvent)}return t.prototype.getDoc=function(){return this.doc},t.prototype.clearAncestorsCache=function(t){for(var e=t;e.clearCache(),!e.isRoot();)e=e.getParent()},t.prototype.deduplicateNode=function(t){if(!t.isRoot())for(var e,n=t.getNextSiblingAllowCrossParent();n&&n.getID()===t.getID();)e=n,n=n.getNextSiblingAllowCrossParent(),e.getParent().removeChild(e)},t}();e.default=l},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(23)),i=o(n(33)),a=o(n(21)),u=o(n(18));function s(t,e){var n=t.getNextSibling();if(!n)return!1;for(var o=null,r=n.getChildNodes(),i=0,a=r.length;i<a;i++){for(var u=r[i].getChildNodes(),s=0,d=u.length;s<d;s++){o=u[s];break}if(o)break}return!!o&&t.getChildNodes().reduce(function(t,e){return t+e.getWidth()},0)+o.getWidthWithoutTrailingWhitespace()<=e}function d(t,e){var n=t.getNextSibling();if(!n)return!1;for(var o=null,r=n.getChildNodes(),i=0,a=r.length;i<a;i++){for(var u=r[i].getChildNodes(),s=0,d=u.length;s<d;s++){o=u[s];break}if(o)break}return!!o&&t.getChildNodes().reduce(function(t,e){return t+e.getHeight()},0)+o.getHeight()<=e}var f=function(){function t(t,e){this.lineNodeQueue=[],this.lineNodeReflowStatuses=new Map,this.pageNodeQueue=[],this.pageNodeReflowStatuses=new Map,this.ran=!1,this.editor=t,this.rootNode=e,this.updatedNode=e}return t.prototype.run=function(){return this.ran||this.reflow(),this.updatedNode},t.prototype.reflow=function(){if(this.ran=!0,this.rootNode instanceof r.default)this.queueAtomicNode(this.rootNode);else if(this.rootNode instanceof u.default)this.queueInlineNode(this.rootNode);else if(this.rootNode instanceof i.default)this.queueBlockNode(this.rootNode);else{if(!(this.rootNode instanceof a.default))throw new Error("Error reflowing layout, unknown root node.");this.queueDocNode(this.rootNode)}this.flushQueuedLineNodes(),this.flushQueuedPageNodes()},t.prototype.queueInlineNode=function(t){this.queueLineNode(t.getParent())},t.prototype.queueAtomicNode=function(t){this.queueInlineNode(t.getParent())},t.prototype.queueLineNode=function(t){this.lineNodeQueue.push(t),this.lineNodeReflowStatuses.set(t.getID(),!1),this.queuePageNode(t.getParent().getParent())},t.prototype.queueBlockNode=function(t){var e=this;t.getChildNodes().forEach(function(t){e.queueLineNode(t)})},t.prototype.queuePageNode=function(t){this.pageNodeQueue.push(t),this.pageNodeReflowStatuses.set(t.getID(),!1)},t.prototype.queueDocNode=function(t){var e=this;t.getChildNodes().forEach(function(t){t.getChildNodes().forEach(function(t){e.queueBlockNode(t)})})},t.prototype.flushQueuedLineNodes=function(){for(var t,e=!1,n=0;n<this.lineNodeQueue.length;n++)t=this.lineNodeQueue[n],this.reflowLineNode(t)&&(e=!0);if(e)for(var o=this.lineNodeQueue[0].getParent(),r=this.updatedNode;r&&!r.isRoot();)if((r=r.getParent())===o){this.updatedNode=r;break}this.lineNodeQueue=[]},t.prototype.flushQueuedPageNodes=function(){for(var t,e=!1,n=0;n<this.pageNodeQueue.length;n++)t=this.pageNodeQueue[n],this.reflowPageNode(t)&&(e=!0);e&&(this.updatedNode=this.pageNodeQueue[0].getParent()),this.pageNodeQueue=[]},t.prototype.reflowLineNode=function(t){if(this.lineNodeReflowStatuses.get(t.getID()))return!1;for(var e=t.getParent(),n=e.getWidth(),o=t,r=!1;;){if(s(o,n)){var i=o.getNextSibling();o.join(i),i.getParent().removeChild(i),this.lineNodeReflowStatuses.set(i.getID(),!0)}var a=this.breakLineNode(o,n);if(!a)break;r=!0;var u=o.getNextSibling();u?e.insertBefore(a,u):e.appendChild(a),this.lineNodeReflowStatuses.set(o.getID(),!0),o=a}return r},t.prototype.reflowPageNode=function(t){if(this.pageNodeReflowStatuses.get(t.getID()))return!1;for(var e=t.getParent(),n=t.getInnerHeight(),o=t,r=!1;;){if(d(o,n)){var i=o.getNextSibling();o.join(i),i.getParent().removeChild(i),this.pageNodeReflowStatuses.set(i.getID(),!0)}var a=this.breakPageNode(o,n);if(!a)break;r=!0;var u=o.getNextSibling();u?e.insertBefore(a,u):e.appendChild(a),this.pageNodeReflowStatuses.set(t.getID(),!0),o=a}return r},t.prototype.breakAtomicNode=function(t,e){return t.getWidthWithoutTrailingWhitespace()<=e?null:t.splitAtWidth(e)},t.prototype.breakInlineNode=function(t,e){for(var n=t.getChildNodes(),o=0,r=0,i=n.length;r<i;r++){var a=n[r];if(o+a.getWidthWithoutTrailingWhitespace()>e){var u=void 0;if(a.getWidthWithoutTrailingWhitespace()>e){u=t.splitAt(r+1);var s=t.getChildNodes(),d=s[s.length-1],f=this.breakAtomicNode(d,e-o);f&&(u.getChildNodes().length>0?u.insertBefore(f,u.getChildNodes()[0]):u.appendChild(f))}else u=t.splitAt(r);return u}o+=a.getWidth()}return null},t.prototype.breakLineNode=function(t,e){for(var n=t.getChildNodes(),o=0,r=0,i=n.length;r<i;r++){var a=n[r];if(o+a.getWidthWithoutTrailingWhitespace()>e){var u=t.splitAt(r+1),s=t.getChildNodes(),d=s[s.length-1],f=this.breakInlineNode(d,e-o);return f&&(u.getChildNodes().length>0?u.insertBefore(f,u.getChildNodes()[0]):u.appendChild(f)),u}o+=a.getWidth()}return null},t.prototype.breakBlockNode=function(t,e){for(var n=t.getChildNodes(),o=0,r=0,i=n.length;r<i;r++){var a=n[r];if(o+a.getHeight()>e)return 0===r?t:t.splitAt(r);o+=a.getHeight()}return null},t.prototype.breakPageNode=function(t,e){for(var n=t.getChildNodes(),o=0,r=0,i=n.length;r<i;r++){var a=n[r];if(o+(a.getHeight()-a.getPaddingBottom())>e){var u=t.splitAt(r+1),s=t.getChildNodes(),d=s[s.length-1],f=this.breakBlockNode(d,e-o);return f&&(f===a&&t.removeChild(a),u.getChildNodes().length>0?u.insertBefore(f,u.getChildNodes()[0]):u.appendChild(f)),u}o+=a.getHeight()}return null},t}();e.default=f},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(6)),i=o(n(38)),a=o(n(37)),u=o(n(19)),s=o(n(23)),d=o(n(33)),f=o(n(21)),c=o(n(18)),l=o(n(9)),h=o(n(136)),p=function(){function t(t,e){this.ran=!1,this.editor=t,this.rootRenderNode=e}return t.prototype.run=function(){return this.ran||this.build(),this.rootNode},t.prototype.build=function(){this.ran=!0,this.rootNode=this.buildNode(this.rootRenderNode)},t.prototype.buildNode=function(t){if(t instanceof a.default)return this.buildDocNode(t);if(t instanceof i.default)return this.buildBlockNode(t);if(t instanceof u.default)return this.buildInlineNode(t);if(t instanceof r.default)return this.buildAtomicNode(t);throw new Error("Error building layout node, unexpected render node type.")},t.prototype.buildDocNode=function(t){var e=this,n=new(this.getLayoutNodeClass(t.getType()))(this.editor,t);if(!(n instanceof f.default))throw new Error("Error building layout node, doc render node did not map to doc layout node.");var o=new h.default(this.editor);return n.appendChild(o),t.getChildNodes().forEach(function(t){var n=e.buildBlockNode(t);o.appendChild(n)}),n},t.prototype.buildBlockNode=function(t){var e=this,n=new(this.getLayoutNodeClass(t.getType()))(this.editor,t);if(!(n instanceof d.default))throw new Error("Error building layout node, block render node did not map to block layout node.");var o=new l.default(this.editor);return n.appendChild(o),t.getChildNodes().forEach(function(t){var n=e.buildInlineNode(t);o.appendChild(n)}),n},t.prototype.buildInlineNode=function(t){var e=this,n=new(this.getLayoutNodeClass(t.getType()))(this.editor,t);if(!(n instanceof c.default))throw new Error("Error building layout node, inline render node did not map to inline layout node.");return t.getChildNodes().forEach(function(t){var o=e.buildAtomicNode(t);n.appendChild(o)}),n},t.prototype.buildAtomicNode=function(t){var e=new(this.getLayoutNodeClass(t.getType()))(this.editor,t);if(!(e instanceof s.default))throw new Error("Error building layout node, atomic render node did not map to atomic layout node.");return e},t.prototype.getLayoutNodeClass=function(t){return this.editor.getConfig().getNodeConfig().getLayoutNodeClass(t)},t}();e.default=p},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(8)),a=r(n(10)),u=r(n(11)),s=function(t){function e(e){var n=t.call(this,e,i.default())||this,o=e.getConfig().getPageConfig();return n.outerWidth=o.getPageWidth(),n.outerHeight=o.getPageHeight(),n.paddingTop=o.getPagePaddingTop(),n.paddingBottom=o.getPagePaddingBottom(),n.paddingLeft=o.getPagePaddingLeft(),n.paddingRight=o.getPagePaddingRight(),n}return o(e,t),e.prototype.isRoot=function(){return!1},e.prototype.isLeaf=function(){return!1},e.prototype.getType=function(){return"Page"},e.prototype.getSize=function(){return void 0===this.size&&(this.size=this.getChildNodes().reduce(function(t,e){return t+e.getSize()},0)),this.size},e.prototype.getOuterWidth=function(){return this.outerWidth},e.prototype.getOuterHeight=function(){return this.outerHeight},e.prototype.getPaddingTop=function(){return this.paddingTop},e.prototype.getPaddingBottom=function(){return this.paddingBottom},e.prototype.getPaddingLeft=function(){return this.paddingLeft},e.prototype.getPaddingRight=function(){return this.paddingRight},e.prototype.getInnerWidth=function(){return this.outerWidth-this.paddingLeft-this.paddingRight},e.prototype.getInnerHeight=function(){return this.outerHeight-this.paddingTop-this.paddingBottom},e.prototype.clearCache=function(){this.size=void 0},e.prototype.splitAt=function(t){for(var n=new e(this.editor);this.getChildNodes().length>t;){var o=this.getChildNodes()[t];this.removeChild(o),n.appendChild(o)}return this.clearCache(),n},e.prototype.join=function(t){var e=this,n=this.getLastChild(),o=t.getFirstChild();n&&o&&n.getID()===o.getID()&&(n.join(o),t.removeChild(o)),t.getChildNodes().slice().forEach(function(n){t.removeChild(n),e.appendChild(n)}),this.clearCache(),t.clearCache()},e.prototype.resolvePosition=function(t,e){for(var n=0,o=this.getChildNodes(),r=0,i=o.length;r<i;r++){var a=o[r],s=a.getSize();if(n+s>t){var d=new u.default(this,e,t),f=a.resolvePosition(t-n,e+1);return d.setChild(f),f.setParent(d),d}n+=s}throw new Error("Offset "+t+" is out of range.")},e.prototype.convertCoordinatesToOffset=function(t,e){for(var n=0,o=0,r=Math.min(Math.max(t-this.getPaddingLeft(),0),this.getOuterWidth()-this.getPaddingRight()),i=Math.min(Math.max(e-this.getPaddingTop(),0),this.getOuterHeight()-this.getPaddingBottom()),a=this.getChildNodes(),u=0,s=a.length;u<s;u++){var d=a[u],f=d.getHeight();if(i>=o&&i<=o+f){n+=d.convertCoordinatesToOffset(r,i-o);break}n+=d.getSize(),o+=f}if(n===this.getSize()){var c=a[a.length-1];n-=c.getSize(),n+=c.convertCoordinatesToOffset(r,c.getHeight())}return n===this.getSize()&&n--,n},e.prototype.resolveRects=function(t,e){for(var n=this,o=[],r=0,i=0,a=this.getChildNodes(),u=function(u,s){var d=a[u],f=d.getHeight(),c=d.getSize(),l=Math.max(t-r,0),h=Math.min(e-r,c);l<=c&&h>=0&&d.resolveRects(l,h).forEach(function(t){var e=t.width,r=t.height,a=n.getPaddingTop(),u=n.getPaddingBottom(),s=n.getPaddingLeft(),d=n.getPaddingRight(),c=s+t.left,l=d+t.right,h=i+a+t.top,p=n.getOuterHeight()-i-f-t.bottom-u;o.push({width:e,height:r,left:c,right:l,top:h,bottom:p,paddingTop:t.paddingTop,paddingBottom:t.paddingBottom,paddingLeft:t.paddingLeft,paddingRight:t.paddingRight})});r+=d.getSize(),i+=f},s=0,d=a.length;s<d&&r<=e;s++)u(s);return o},e}(a.default);e.default=s},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(138)),i=function(){function t(t){this.editor=t,this.modelEngine=new r.default(t)}return t.prototype.getDoc=function(){return this.modelEngine.getDoc()},t.prototype.toHTML=function(t,e){return this.getDoc().toHTML(t,e).outerHTML},t.prototype.resolvePosition=function(t){return this.getDoc().resolvePosition(t)},t}();e.default=i},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(61)),i=o(n(62)),a=o(n(5)),u=o(n(4)),s=o(n(34)),d=o(n(139)),f=function(){function t(t){var e=this;this.handleStateUpdatedEvent=function(t){var n=e.findUpdatedNode(e.editor.getStateService().getTokens(),t.getBeforeFrom(),t.getBeforeTo(),t.getAfterFrom(),t.getAfterTo()),o=n[0],i=n[1];o.onUpdated(i),e.clearAncestorsCache(o),e.editor.getDispatcher().dispatch(new r.default(o))},this.editor=t,this.doc=new s.default(t),t.getDispatcher().on(i.default,this.handleStateUpdatedEvent)}return t.prototype.getDoc=function(){return this.doc},t.prototype.clearAncestorsCache=function(t){for(var e=t;e.clearCache(),!e.isRoot();)e=e.getParent()},t.prototype.findUpdatedNode=function(t,e,n,o,r){var i=this.doc.resolvePosition(e).getLeaf(),a=this.doc.resolvePosition(n).getLeaf(),u=this.findCommonAncestor(i.getNode(),a.getNode()),s=this.findParentNodeOfTokenRange(t,o,r),f=t[s[0]].getID(),c=this.findAncestorNodeByID(i.getNode(),f),l=this.findCommonAncestor(u,c),h=this.findNodeTokenRange(t,l.getID(),s[0],s[1]);return[l,new d.default(this.editor,h).run()]},t.prototype.findCommonAncestor=function(t,e){for(var n=[],o=[],r=t;n.unshift(r),!r.isRoot();)r=r.getParent();for(r=e;o.unshift(r),!r.isRoot();)r=r.getParent();for(var i=0;i<n.length&&i<o.length&&n[i]===o[i];)i++;if(0===i)throw new Error("No common ancestor found.");return n[i-1]},t.prototype.findParentNodeOfTokenRange=function(t,e,n){var o=0,r=0;t.slice(e,n).forEach(function(t){t instanceof u.default?r--:t instanceof a.default&&r++,r>o&&(o=r)});for(var i,s=e,d=o+1;d>0&&s>0;)(i=t[--s])instanceof u.default?d--:i instanceof a.default&&d++;for(var f=n,c=o+1,l=t.length;c>0&&f<l;)(i=t[++f-1])instanceof u.default?c++:i instanceof a.default&&c--;return[s,f]},t.prototype.findNodeTokenRange=function(t,e,n,o){for(var r,i=n,s=0;i>=0;){if((r=t[i])instanceof u.default){if(s--,r.getID()===e)break}else r instanceof a.default&&s++;i--}for(var d=o,f=t.length;d<f;){if((r=t[d-1])instanceof u.default)s--;else if(r instanceof a.default&&++s>=0)break;d++}return t.slice(i,d)},t.prototype.findAncestorNodeByID=function(t,e){if(t.getID()===e)return t;if(t.isRoot())throw new Error("Ancestor node "+e+" cannot be found.");return this.findAncestorNodeByID(t.getParent(),e)},t}();e.default=f},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,i=o(n(5)),a=o(n(4)),u=o(n(24)),s=o(n(34)),d=o(n(49));!function(t){t[t.NewNode=0]="NewNode",t[t.Content=1]="Content"}(r||(r={}));var f=function(){function t(){this.nodes=[]}return t.prototype.push=function(t){this.nodes.push(t)},t.prototype.pop=function(){return this.nodes.pop()},t.prototype.peek=function(){return this.nodes[this.nodes.length-1]},t.prototype.getRootNode=function(){if(0===this.nodes.length)throw new Error("Error parsing state.");return this.nodes[0]},t}(),c=function(){function t(t,e){this.parserState=r.NewNode,this.stack=new f,this.contentBuffer="",this.ran=!1,this.editor=t,this.tokens=e}return t.prototype.run=function(){return this.ran||this.parse(),this.rootNode},t.prototype.parse=function(){var t;this.stack=new f;for(var e=0,n=this.tokens.length;e<n;e++){t=this.tokens[e];try{switch(this.parserState){case r.NewNode:if(t instanceof a.default){this.newNode(t);break}if("string"===typeof t){this.appendToContent(t);break}if(t instanceof i.default){this.closeNode(t);break}this.appendToContent(t);break;case r.Content:if("string"===typeof t){this.appendToContent(t);break}if(t instanceof i.default){this.closeNode(t);break}default:throw new Error("Unexpected token encountered.")}}catch(o){throw new Error("Error at token "+e+": "+o)}}this.ran=!0},t.prototype.newNode=function(t){var e=this.stack.peek(),n=new(this.editor.getConfig().getNodeConfig().getModelNodeClass(t.getType()))(this.editor,t.getID(),t.getAttributes());if(e instanceof s.default){if(!(n instanceof u.default))throw new Error("Unexpected child node for doc.");e.appendChild(n)}else if(e instanceof u.default){if(!(n instanceof d.default))throw new Error("Unexpected child node for block node.");e.appendChild(n)}this.stack.push(n),this.rootNode||(this.rootNode=n)},t.prototype.appendToContent=function(t){this.contentBuffer+=t,this.parserState=r.Content},t.prototype.closeNode=function(t){var e=this.stack.pop();if(void 0===e)throw new Error("Unexpected end of tokens encountered.");e instanceof d.default&&e.setContent(this.contentBuffer),this.contentBuffer="",this.parserState=r.NewNode},t}();e.default=c},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(19)),i=o(n(50)),a=o(n(141)),u=o(n(51)),s=function(){function t(t){this.editor=t,this.renderEngine=new a.default(t)}return t.prototype.getDoc=function(){return this.renderEngine.getDoc()},t.prototype.getDocSize=function(){return this.renderEngine.getDoc().getSize()},t.prototype.convertOffsetToModelOffset=function(t){return this.renderEngine.getDoc().convertOffsetToModelOffset(t)},t.prototype.resolvePosition=function(t){return this.renderEngine.getDoc().resolvePosition(t)},t.prototype.getTextStyleBetween=function(t,e){var n=this,o=t,a=e;(t=Math.min(o,a))<(e=Math.max(o,a))?e--:t>e&&t--;for(var u=null;null===u;){if(!((d=this.resolvePosition(t).getLeaf().getParent().getNode())instanceof r.default))return null;if((u=d)instanceof i.default)if(u=null,t===e){if(0===t)return null;t--,e--}else t++}for(var s=null;null===s;){var d;if(!((d=this.resolvePosition(e).getLeaf().getParent().getNode())instanceof r.default))return null;if((s=d)instanceof i.default){if(s=null,t===e)return null;e--}}if(u===s)return this.getInlineRenderNodeTextStyle(u);for(var f=[],c=u,l=!1;;){var h=this.getInlineRenderNodeTextStyle(c);f.push(h);var p=c.getNextSiblingAllowCrossParent();if(!p)break;if(c=p,l)break;c===s&&(l=!0)}var g=[];return f.forEach(function(t){return t&&g.push(t)}),0===g.length?null:g.reduce(function(t,e){return n.mergeTextStyles(t,e)},g[0])},t.prototype.getInlineRenderNodeTextStyle=function(t){if(t instanceof u.default)return t.getTextStyle();if(t instanceof i.default){var e=t.getParent().getChildNodes();if(e.length>1)return this.getInlineRenderNodeTextStyle(e[e.length-2])}return null},t.prototype.mergeTextStyles=function(t,e){return{weight:this.mergeTextStyleAttributes(t.weight,e.weight,null),size:this.mergeTextStyleAttributes(t.size,e.size,null),color:this.mergeTextStyleAttributes(t.color,e.color,null),font:this.mergeTextStyleAttributes(t.font,e.font,null),letterSpacing:this.mergeTextStyleAttributes(t.letterSpacing,e.letterSpacing,null),italic:this.mergeTextStyleAttributes(t.italic,e.italic,!1),underline:this.mergeTextStyleAttributes(t.underline,e.underline,!1),strikethrough:this.mergeTextStyleAttributes(t.strikethrough,e.strikethrough,!1)}},t.prototype.mergeTextStyleAttributes=function(t,e,n){return t===e?t:n},t}();e.default=s},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(61)),i=o(n(29)),a=o(n(37)),u=o(n(142)),s=function(){function t(t){var e=this;this.handleModelUpdatedEvent=function(t){var n=t.getUpdatedNode(),o=e.doc.findDescendant(n.getID()),r=new u.default(e.editor,n).run();o.onUpdated(r),e.clearAncestorsCache(o),e.editor.getDispatcher().dispatch(new i.default(o))},this.editor=t,this.doc=new a.default(t),t.getDispatcher().on(r.default,this.handleModelUpdatedEvent)}return t.prototype.getDoc=function(){return this.doc},t.prototype.clearAncestorsCache=function(t){for(var e=t;e.clearCache(),!e.isRoot();)e=e.getParent()},t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){this.ran=!1,this.editor=t,this.rootModelNode=e}return t.prototype.run=function(){return this.ran||this.render(),this.rootNode},t.prototype.render=function(){this.ran=!0,this.rootNode=this.buildNode(this.rootModelNode)},t.prototype.buildNode=function(t){var e=this,n=new(this.editor.getConfig().getNodeConfig().getRenderNodeClass(t.getType()))(this.editor,t);return t.isLeaf()||t.getChildNodes().forEach(function(t){var o=e.buildNode(t);n.appendChild(o)}),n},t}();e.default=o},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(144)),i=function(){function t(t){this.editor=t,this.stateEngine=new r.default(t)}return t.prototype.initialize=function(t){this.stateEngine.initialize(t)},t.prototype.getTokens=function(){return this.stateEngine.getTokens()},t.prototype.applyTransformation=function(t){return this.applyTransformations([t])[0]},t.prototype.applyTransformations=function(t){return this.stateEngine.applyTransformations(t)},t.prototype.unapplyTransformations=function(t){this.stateEngine.unapplyTransformations(t)},t}();e.default=i},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(62)),a=o(n(145)),u=r(n(12)),s=r(n(27)),d=o(n(5)),f=o(n(4)),c=o(n(146)),l=function(){function t(t){this.initialized=!1,this.tokens=[new f.default("Doc","Doc",{}),new d.default],this.editor=t}return t.prototype.initialize=function(t){if(this.initialized)throw new Error("Error initializing state engine, state engine has already been initialized.");var e=new c.default(t);this.tokens=e.getTokens(),this.editor.getDispatcher().dispatch(new i.default(0,1,0,this.tokens.length)),this.initialized=!0},t.prototype.getTokens=function(){return this.tokens},t.prototype.applyTransformations=function(t){var e=this;if(!this.initialized)throw new Error("Error applying transformation, state engine has not been initialized.");var n=t.map(function(t){return e.applyTransformation(t)}),o=this.findTransformedRange(n);return o&&this.editor.getDispatcher().dispatch(new i.default(o.beforeFrom,o.beforeTo,o.afterFrom,o.afterTo)),n},t.prototype.unapplyTransformations=function(t){var e=this;if(!this.initialized)throw new Error("Error unapplying transformation, state engine has not been initialized.");t.slice().reverse().forEach(function(t){return e.unapplyTransformation(t)});var n=this.findTransformedRange(t);n&&this.editor.getDispatcher().dispatch(new i.default(n.beforeFrom,n.beforeTo,n.afterFrom,n.afterTo))},t.prototype.applyTransformation=function(t){var e=this,n=this.editor.getCursorService(),o=new a.default(t,n.getAnchor(),n.getHead(),n.getLeftLock()),r=t.getCursorAnchor(),i=t.getCursorHead();n.set(null===r?n.getAnchor():r,null===i?n.getHead():i,t.getCursorLockLeft());var d=t.getOperations();if(0===d.length)return o;var f=[];return d.forEach(function(t){var n,r=t.adjustOffset(f);if(r instanceof s.default){(n=e.tokens).splice.apply(n,[r.getAt(),0].concat(r.getTokens()));var i=new s.AppliedInsert(r.getAt(),r.getTokens());o.addOperation(i)}else{if(!(r instanceof u.default))throw new Error("Unknown transformation operation encountered.");var a=e.tokens.splice(r.getFrom(),r.getTo()-r.getFrom());i=new u.AppliedDelete(r.getFrom(),a);o.addOperation(i)}f.push(r.getOffsetAdjustment())}),o},t.prototype.unapplyTransformation=function(t){var e=this;t.getOperations().slice().reverse().forEach(function(t){var n;if(t instanceof s.AppliedInsert)e.tokens.splice(t.getAt(),t.getTokens().length);else{if(!(t instanceof u.AppliedDelete))throw new Error("Unknown applied transformation operation encountered.");(n=e.tokens).splice.apply(n,[t.getAt(),0].concat(t.getTokens()))}})},t.prototype.findTransformedRange=function(t){var e=void 0,n=void 0,o=void 0,r=void 0;return t.forEach(function(t){var i=t.getTransformedRange();i&&((void 0===e||i.beforeFrom<e)&&(e=i.beforeFrom),(void 0===n||i.beforeTo>n)&&(n=i.beforeTo),(void 0===o||i.afterFrom<o)&&(o=i.afterFrom),(void 0===r||i.afterTo<r)&&(r=i.afterTo))}),void 0===e?null:{beforeFrom:e,beforeTo:n,afterFrom:o,afterTo:r}},t}();e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(12),r=n(27),i=function(){function t(t,e,n,o){this.operations=[],this.originalTransformation=t,this.originalCursorHead=e,this.originalCursorAnchor=n,this.originalCursorLockLeft=o}return t.prototype.addOperation=function(t){var e,n,i,a;if(this.operations.push(t),t instanceof r.AppliedInsert){e=u=t.getAt(),n=u,i=u,a=u+t.getTokens().length}else{if(!(t instanceof o.AppliedDelete))throw new Error("Invalid applied operation encountered.");var u;e=u=t.getAt(),n=u+t.getTokens().length,i=u,a=u}(void 0===this.beforeFrom||e<this.beforeFrom)&&(this.beforeFrom=e),(void 0===this.beforeTo||n>this.beforeTo)&&(this.beforeTo=n),(void 0===this.afterFrom||i<this.afterFrom)&&(this.afterFrom=i),(void 0===this.afterTo||a>this.afterTo)&&(this.afterTo=a)},t.prototype.getOperations=function(){return this.operations},t.prototype.getOriginalTransformation=function(){return this.originalTransformation},t.prototype.getOriginalCursorHead=function(){return this.originalCursorHead},t.prototype.getOriginalCursorAnchor=function(){return this.originalCursorAnchor},t.prototype.getOriginalCursorLockLeft=function(){return this.originalCursorLockLeft},t.prototype.getTransformedRange=function(){return void 0===this.beforeFrom?null:{beforeFrom:this.beforeFrom,beforeTo:this.beforeTo,afterFrom:this.afterFrom,afterTo:this.afterTo}},t}();e.default=i},function(t,e,n){"use strict";var o=this&&this.__rest||function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&(n[o[r]]=t[o[r]])}return n},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i,a=r(n(5)),u=r(n(4));!function(t){t[t.NewToken=0]="NewToken",t[t.NewTag=1]="NewTag",t[t.Tag=2]="Tag",t[t.TagAttributes=3]="TagAttributes",t[t.TagAttributesString=4]="TagAttributesString",t[t.TagAttributesStringEscape=5]="TagAttributesStringEscape",t[t.CloseTag=6]="CloseTag"}(i||(i={}));var s=function(){function t(t){this.tokenizerState=i.NewToken,this.tokens=[],this.tagBuffer="",this.attributesBuffer="",this.ran=!1,this.markup=t}return t.prototype.getTokens=function(){return this.ran||this.tokenize(),this.tokens},t.prototype.tokenize=function(){for(var t,e=this.markup,n=0,o=e.length;n<o;n++)switch(t=e[n],this.tokenizerState){case i.NewToken:if(/</.test(t)){this.newTag(t);break}this.appendChar(t);break;case i.NewTag:if(/A-Z/.test(t)){this.appendCharToTag(t);break}if(/\//.test(t)){this.closeTag(t);break}case i.Tag:if(/[A-Za-z]/.test(t)){this.appendCharToTag(t);break}if(/{/.test(t)){this.newAttributes(t);break}case i.TagAttributes:if(/"/.test(t)){this.newAttributesString(t);break}if(/>/.test(t)){this.endTag(t);break}this.appendCharToAttributes(t);break;case i.TagAttributesString:if(/"/.test(t)){this.endAttributesString(t);break}if(/\\/.test(t)){this.escapeNextAttributesStringChar(t);break}this.appendCharToAttributes(t);break;case i.TagAttributesStringEscape:this.appendCharToAttributes(t);break;case i.CloseTag:if(/>/.test(t)){this.endCloseTag(t);break}default:throw new Error("Unexpected character "+t+" at offset "+n+".")}this.ran=!0},t.prototype.newTag=function(t){this.tokenizerState=i.NewTag},t.prototype.appendChar=function(t){this.tokens.push(t)},t.prototype.appendCharToTag=function(t){this.tagBuffer+=t,this.tokenizerState=i.Tag},t.prototype.newAttributes=function(t){this.attributesBuffer+=t,this.tokenizerState=i.TagAttributes},t.prototype.appendCharToAttributes=function(t){this.attributesBuffer+=t,this.tokenizerState===i.TagAttributesStringEscape&&(this.tokenizerState=i.TagAttributesString)},t.prototype.newAttributesString=function(t){this.attributesBuffer+=t,this.tokenizerState=i.TagAttributesString},t.prototype.endTag=function(t){var e,n,r;try{n=(e=JSON.parse(this.attributesBuffer)).id,r=o(e,["id"])}catch(s){throw new Error("Invalid attributes JSON: "+this.attributesBuffer+".")}if(!n)throw new Error("Missing id in attributes JSON: "+this.attributesBuffer+".");if(!this.tagBuffer)throw new Error("Open tag type cannot be empty.");"Doc"===this.tagBuffer&&(n="Doc");var a=new u.default(this.tagBuffer,n,r);this.tokens.push(a),this.attributesBuffer="",this.tagBuffer="",this.tokenizerState=i.NewToken},t.prototype.endAttributesString=function(t){this.attributesBuffer+=t,this.tokenizerState=i.TagAttributes},t.prototype.escapeNextAttributesStringChar=function(t){this.tokenizerState=i.TagAttributesStringEscape},t.prototype.closeTag=function(t){this.tokenizerState=i.CloseTag},t.prototype.endCloseTag=function(t){var e=new a.default;this.tokens.push(e),this.tokenizerState=i.NewToken},t}();e.default=s},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(148)),i=o(n(149)),a=o(n(153)),u=function(){function t(t){this.editor=t,this.viewEngine=new a.default(t),this.domObserver=new i.default(t),this.cursorView=new r.default(t)}return t.prototype.attachToDOM=function(t){this.viewEngine.attachToDOM(t),this.domObserver.connect()},t.prototype.getDoc=function(){return this.viewEngine.getDoc()},t.prototype.getPages=function(){return this.viewEngine.getDoc().getChildNodes()},t.prototype.getCursorView=function(){return this.cursorView},t.prototype.getIsFocused=function(){return this.domObserver.getIsFocused()},t.prototype.focus=function(){this.domObserver.focus()},t.prototype.blur=function(){this.domObserver.blur()},t}();e.default=u},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(63)),i=o(n(64)),a=o(n(28)),u=o(n(65)),s=function(){function t(t){var e=this;this.editor=t,this.leftAnchor=null,this.blinkState=!1,this.blinkInterval=null,this.domCaret=document.createElement("div"),this.domCaret.className="tw--cursor-caret",this.domCaret.style.position="absolute",this.domCaret.style.userSelect="none",this.domCaret.style.pointerEvents="none",this.domCaret.style.width="2px",this.domCaret.style.marginLeft="-1px",this.domSelections=[],t.getDispatcher().on(a.default,function(t){return e.updateView()}),t.getDispatcher().on(u.default,function(t){return e.updateView()}),t.getDispatcher().on(i.default,function(t){return e.updateView()}),t.getDispatcher().on(r.default,function(t){return e.updateView()})}return t.prototype.getLeftAnchor=function(){return this.leftAnchor},t.prototype.startBlinking=function(){var t=this;null===this.blinkInterval&&(this.blinkInterval=setInterval(function(){t.blinkState?t.domCaret.style.visibility="hidden":t.domCaret.style.visibility="visible",t.blinkState=!t.blinkState},500))},t.prototype.stopBlinking=function(){null!==this.blinkInterval&&(this.blinkState=!0,this.domCaret.style.visibility="visible",clearInterval(this.blinkInterval),this.blinkInterval=null)},t.prototype.updateView=function(){for(var t=this,e=this.editor.getCursorService(),n=this.editor.getRenderService(),o=this.editor.getLayoutService(),r=this.editor.getViewService(),i=r.getIsFocused(),a=n.getDocSize(),u=r.getPages();this.domSelections.length>0;){var s=this.domSelections[0];s.parentElement&&s.parentElement.removeChild(s),this.domSelections.splice(0,1)}var d,f,c,l,h,p=Math.min(Math.max(e.getAnchor(),0),a-1),g=Math.min(Math.max(e.getHead(),0),a-1),y=o.resolveRects(Math.min(p,g),Math.max(p,g)),v=-1,_=-1,m=-1,w=-1;(y.forEach(function(e,n){var o=u[n].getDOMContentContainer();e.forEach(function(e,r){if(v<0&&(v=n,_=r),m=n,w=r,0!==e.width){var a=document.createElement("div");a.className="tw--cursor-selection",a.style.position="absolute",a.style.top=e.top-e.paddingTop+"px",a.style.left=e.left+"px",a.style.width=e.paddingLeft+e.width+e.paddingRight+"px",a.style.height=e.paddingTop+e.height+e.paddingBottom+"px",a.style.userSelect="none",a.style.pointerEvents="none",a.style.background=i?"hsla(213, 100%, 50%, 0.2)":"hsla(0, 0%, 0%, 0.08)",o.appendChild(a),t.domSelections.push(a)}})}),g<p)?(d=v,f=(h=y[v][_]).left,c=h.top,l=h.height):(d=m,f=(h=y[m][w]).left+h.width,c=h.top,l=h.height);if(g===p){this.domCaret.style.display="block",this.domCaret.style.top=c+"px",this.domCaret.style.left=f+"px",this.domCaret.style.height=l+"px",this.domCaret.style.background=i?"hsla(213, 100%, 50%, 1)":"hsla(0, 0%, 0%, 0.5)";var b=u[d].getDOMContentContainer();this.domCaret.parentElement&&this.domCaret.parentElement!==b&&this.domCaret.parentElement.removeChild(this.domCaret),this.domCaret.parentElement||b.appendChild(this.domCaret),this.stopBlinking(),i&&this.startBlinking()}else this.domCaret.style.display="none",this.stopBlinking()},t}();e.default=s},function(t,e,n){"use strict";var o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(39)),a=r(n(63)),u=r(n(64)),s=r(n(150)),d=r(n(151)),f=r(n(152));var c=function(){function t(t){var e=this;this.isComposing=!1,this.isFocused=!1,this.isMouseDown=!1,this.onMouseDown=function(t){if(t.target instanceof HTMLElement){for(var n=!1,o=t.target,r=e.editor.getID();o;){var a=o.getAttribute("data-tw-instance"),u=o.getAttribute("data-tw-role");if(a===r&&"page"===u){n=!0;break}o=o.parentElement}if(n){t.preventDefault(),e.isFocused||e.focus(),e.isMouseDown=!0;var s=e.resolveScreenPosition(t.clientX,t.clientY);s<0||e.editor.getDispatcher().dispatchCommand(i.moveCursorTo(s))}else e.isFocused&&e.blur()}},this.onMouseMove=function(t){if(e.isMouseDown){var n=e.resolveScreenPosition(t.clientX,t.clientY);n<0||e.editor.getDispatcher().dispatchCommand(i.moveCursorHeadTo(n))}},this.onMouseUp=function(t){e.isMouseDown=!1},this.onKeyDown=function(t){var n=f.default(t);n&&(e.editor.getDispatcher().dispatchKeyPress(n)&&t.preventDefault())},this.onInput=function(){setTimeout(function(){if(!e.isComposing){var t=e.parseContentEditableValue();if(e.$contentEditable.innerHTML="",0!==t.length)e.editor.getDispatcher().dispatchCommand(i.insert(t))}})},this.onCompositionStart=function(){e.isComposing=!0},this.onCompositionEnd=function(){e.isComposing=!1},this.onFocused=function(){e.isFocused=!0,e.editor.getDispatcher().dispatch(new u.default)},this.onBlurred=function(){e.isFocused=!1,e.editor.getDispatcher().dispatch(new a.default)},this.onCopy=function(t){t.preventDefault(),s.default(e.editor)},this.onPaste=function(t){t.preventDefault();var n=t.clipboardData;n&&d.default(e.editor,n)},this.editor=t,this.$iframe=document.createElement("iframe"),this.$iframe.scrolling="no",this.$iframe.src="about:blank",this.$iframe.style.width="0",this.$iframe.style.height="0",this.$iframe.style.border="none",this.$iframe.style.position="fixed",this.$iframe.style.zIndex="-1",this.$iframe.style.opacity="0",this.$iframe.style.overflow="hidden",this.$iframe.style.left="0",this.$iframe.style.top="0",this.$contentEditable=document.createElement("div"),this.$contentEditable.contentEditable="true",this.$contentEditable.style.whiteSpace="pre",this.mutationObserver=new MutationObserver(this.onInput)}return t.prototype.connect=function(){var t=this;window.addEventListener("mousedown",this.onMouseDown),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp),document.body.appendChild(this.$iframe),setTimeout(function(){t.initContentEditable()})},t.prototype.focus=function(){this.$contentEditable.focus()},t.prototype.blur=function(){this.$contentEditable.blur()},t.prototype.getIsFocused=function(){return this.isFocused},t.prototype.resolveScreenPosition=function(t,e){for(var n=this.editor.getLayoutService(),o=this.editor.getViewService(),r=n.getPages(),i=o.getPages(),a=0,u=0,s=i.length;u<s;u++){var d=i[u],f=r[u],c=d.getDOMContainer().getBoundingClientRect();if(c.left<=t&&c.right>=t&&c.top<=e&&c.bottom>=e){var l=d.getDOMContentContainer().getBoundingClientRect(),h=t-l.left,p=e-l.top;return a+f.convertCoordinatesToOffset(h,p)}a+=f.getSize()}return-1},t.prototype.parseContentEditableValue=function(){var t=[];return this.$contentEditable.childNodes.forEach(function(e){t.push.apply(t,function t(e){if(e.nodeValue)return e.nodeValue.split("");var n=[];return e.childNodes.forEach(function(e){n.push.apply(n,t(e))}),n}(e))}),t},t.prototype.initContentEditable=function(){this.$iframe.contentDocument.body.appendChild(this.$contentEditable),this.$contentEditable.addEventListener("keydown",this.onKeyDown),this.$contentEditable.addEventListener("compositionstart",this.onCompositionStart),this.$contentEditable.addEventListener("compositionend",this.onCompositionEnd),this.$contentEditable.addEventListener("focus",this.onFocused),this.$contentEditable.addEventListener("blur",this.onBlurred),this.$contentEditable.addEventListener("copy",this.onCopy),this.$contentEditable.addEventListener("paste",this.onPaste),this.mutationObserver.observe(this.$contentEditable,{subtree:!0,characterData:!0,childList:!0})},t}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=document.createElement("iframe");o.scrolling="no",o.src="about:blank",o.style.width="0",o.style.height="0",o.style.border="none",o.style.position="fixed",o.style.zIndex="-1",o.style.opacity="0",o.style.overflow="hidden",o.style.left="-1000000px",o.style.top="-1000000px",o.contentEditable="true",document.body.appendChild(o),e.default=function(t){var e=t.getCursorService(),n=t.getModelService(),r=t.getRenderService(),i=e.getAnchor(),a=e.getHead();if(i!==a){var u=r.convertOffsetToModelOffset(Math.min(i,a)),s=r.convertOffsetToModelOffset(Math.max(i,a)),d=n.toHTML(u,s);o.contentDocument.body.innerHTML=d,o.contentDocument.execCommand("selectAll"),o.contentDocument.execCommand("copy")}}},function(t,e,n){"use strict";var o=this&&this.__rest||function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&(n[o[r]]=t[o[r]])}return n},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(39),a=r(n(24)),u=r(n(47)),s=r(n(48)),d=r(n(5)),f=r(n(4)),c=r(n(8)),l=["META"],h=document.createElement("iframe");function p(t,e,n,o){if(l.includes(e.nodeName))return[];var r=function(t,e,n){for(var o=t.getConfig().getNodeConfig(),r=e.nodeName,i=o.getAllModelNodeClasses(),u=null,s=0,d=i.length;s<d;s++){var f=i[s];f.prototype instanceof a.default&&f.getDOMNodeNames().includes(r)&&(u=f.fromDOM(t,r,n))}return u}(t,e,n),i=[],u=!1;e.childNodes.forEach(function(e){var a=p(t,e,n,r||o);i.push(a),a.some(function(t){return!!t.blockNode})&&(u=!0)});var s=[];return u?i.forEach(function(t){t.forEach(function(t){t.blockNode||(t.blockNode=(r||o).clone()),s.push(t)})}):s.push({blockNode:r,content:e.textContent||""}),s}function g(t,e){t.id;var n=o(t,["id"]),r=(e.id,o(e,["id"]));return JSON.stringify(n)===JSON.stringify(r)}h.scrolling="no",h.src="about:blank",h.style.width="0",h.style.height="0",h.style.border="none",h.style.position="fixed",h.style.zIndex="-1",h.style.opacity="0",h.style.overflow="hidden",h.style.left="-1000000px",h.style.top="-1000000px",h.contentEditable="true",document.body.appendChild(h),e.default=function(t,e){var n=h.contentDocument;if(n){var o=e.getData("text/html")||e.getData("text/plain");n.body.innerHTML=o;var r=n.body,l=t.getCursorService(),y=t.getModelService(),v=t.getRenderService(),_=Math.min(l.getHead(),l.getAnchor()),m=v.convertOffsetToModelOffset(_),w=y.resolvePosition(m),b=null,C=w.getChild();if(C){var O=C.getNode();O instanceof a.default&&(b=O)}b||(b=new u.default(t,c.default(),{}));var P=function(t,e,n){return p(t,e,{},n).map(function(e){e.blockNode||(e.blockNode=n.clone());var o=e.blockNode,r=e.content,i=new s.default(t,c.default(),{});return i.setContent(r),o.appendChild(i),o})}(t,r,b),T=[];P.forEach(function(t){T.push.apply(T,t.toTokens())}),T=function(t,e){for(var n=e.getChild(),o=0;n;){var r=n.getNode(),i=t[o];if(!(i instanceof f.default))break;var a=!0;r.getType()!==i.getType()&&(a=!1),g(r.getAttributes(),i.getAttributes())||(a=!1),a?t=t.slice(1,t.length-1):(t=[new d.default].concat(t,[new f.default(r.getType(),r.getID(),r.getAttributes())]),o+=2),n=n.getChild()}return t}(T=function(t,e){for(var n=0;n<e.length;n++)"\n"===e[n]&&(e=e.slice(0,n).concat([new d.default,new d.default,new f.default("Paragraph",c.default(),{}),new f.default("Text",c.default(),{})],e.slice(n+1)));return e}(0,T),w),t.getDispatcher().dispatchCommand(i.insert(T))}}},function(t,e,n){"use strict";var o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(56)),a=r(n(58)),u=n(59),s={a:i.AKey,b:i.BKey,c:i.CKey,d:i.DKey,e:i.EKey,f:i.FKey,g:i.GKey,h:i.HKey,i:i.IKey,j:i.JKey,k:i.KKey,l:i.LKey,m:i.MKey,n:i.NKey,o:i.OKey,p:i.PKey,q:i.QKey,r:i.RKey,s:i.SKey,t:i.TKey,u:i.UKey,v:i.VKey,w:i.WKey,x:i.XKey,y:i.YKey,z:i.ZKey,A:i.AKey,B:i.BKey,C:i.CKey,D:i.DKey,E:i.EKey,F:i.FKey,G:i.GKey,H:i.HKey,I:i.IKey,J:i.JKey,K:i.KKey,L:i.LKey,M:i.MKey,N:i.NKey,O:i.OKey,P:i.PKey,Q:i.QKey,R:i.RKey,S:i.SKey,T:i.TKey,U:i.UKey,V:i.VKey,W:i.WKey,X:i.XKey,Y:i.YKey,Z:i.ZKey,Num1:i.Num1Key,Num2:i.Num2Key,Num3:i.Num3Key,Num4:i.Num4Key,Num5:i.Num5Key,Num6:i.Num6Key,Num7:i.Num7Key,Num8:i.Num8Key,Num9:i.Num9Key,Num0:i.Num0Key,Dash:i.DashKey,Equal:i.EqualKey,Space:i.SpaceKey,ArrowLeft:i.ArrowLeftKey,ArrowRight:i.ArrowRightKey,ArrowUp:i.ArrowUpKey,ArrowDown:i.ArrowDownKey,Backspace:i.BackspaceKey,Delete:i.DeleteKey,Enter:i.EnterKey};e.default=function(t){var e=[];t.altKey&&e.push(u.AltKey),t.ctrlKey&&e.push(u.CtrlKey),t.metaKey&&e.push(u.MetaKey),t.shiftKey&&e.push(u.ShiftKey);var n,o=(n=t.key)in s?s[n]:null;return o?new a.default(o,e):null}},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(60)),i=o(n(65)),a=o(n(52)),u=o(n(154)),s=function(){function t(t){var e=this;this.handleLayoutUpdatedEvent=function(t){var n=t.getUpdatedNode(),o=e.doc.findDescendant(n.getID()),r=new u.default(e.editor,n).run();o.onUpdated(r),e.clearAncestorsCache(o),e.editor.getDispatcher().dispatch(new i.default(o))},this.editor=t,this.doc=new a.default(t),t.getDispatcher().on(r.default,this.handleLayoutUpdatedEvent)}return t.prototype.attachToDOM=function(t){this.doc.attachToDOM(t)},t.prototype.getDoc=function(){return this.doc},t.prototype.clearAncestorsCache=function(t){for(var e=t;e.clearCache(),!e.isRoot();)e=e.getParent()},t}();e.default=s},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(18)),i=function(){function t(t,e){this.ran=!1,this.editor=t,this.rootLayoutNode=e}return t.prototype.run=function(){return this.ran||this.build(),this.rootNode},t.prototype.build=function(){this.ran=!0,this.rootNode=this.buildNode(this.rootLayoutNode)},t.prototype.buildNode=function(t){var e=this,n=new(this.editor.getConfig().getNodeConfig().getViewNodeClass(t.getType()))(this.editor,t);return t instanceof r.default||t.getChildNodes().forEach(function(t){var o=e.buildNode(t);n.appendChild(o)}),n},t}();e.default=i},,,,,,function(t,e,n){"use strict";n.r(e);var o=n(0),r=n.n(o),i=n(30),a=n.n(i),u=(n(75),n(13)),s=n(14),d=n(16),f=n(15),c=n(17),l=n(2),h=(n(76),n(3)),p='\n<Doc {"id": "Doc"}>\n  <Paragraph {"id": "{{id}}"}>\n    <Text {"id": "{{id}}", "weight": 700}>\n      Once upon a time there lived in a certain village a little country girl, the prettiest creature was ever seen. Her mother was excessively fond of her; and her grandmother doted on her still more. This good woman had made for her a little red riding-hood; which became the girl so extremely well that everybody called her Little Red Riding-Hood.\n    </>\n  </>\n  <Paragraph {"id": "{{id}}"}>\n    <Text {"id": "{{id}}", "italic": true}>\n      One day her mother, having made some custards, said to her:\n    </>\n  </>\n  <Paragraph {"id": "{{id}}"}>\n    <Text {"id": "{{id}}", "color": "rgba(255, 0, 0, 1)"}>\n      "Go, my dear, and see how thy grandmamma does, for I hear she has been very ill; carry her a custard, and this little pot of butter."\n    </>\n  </>\n  <Paragraph {"id": "{{id}}"}>\n    <Text {"id": "{{id}}", "size": 24}>\n      Little Red Riding-Hood set out immediately to go to her grandmother, who lived in another village.\n    </>\n  </>\n  <Paragraph {"id": "{{id}}"}>\n    <Text {"id": "{{id}}", "strikethrough": true, "underline": true}>\n      As she was going through the wood, she met with Gaffer Wolf, who had a very great mind to eat her up, but he dared not, because of some faggot-makers hard by in the forest. He asked her whither she was going. The poor child, who did not know that it was dangerous to stay and hear a wolf talk, said to him:\n    </>\n  </>\n  <Paragraph {"id": "{{id}}"}>\n    <Text {"id": "{{id}}"}>\n      "I am going to see my grandmamma and carry her a custard and a little pot of butter from my mamma."\n    </>\n  </>\n  <Paragraph {"id": "{{id}}"}>\n    <Text {"id": "{{id}}"}>\n      "Does she live far off?" said the Wolf.\n    </>\n  </>\n  <Paragraph {"id": "{{id}}"}>\n    <Text {"id": "{{id}}"}>\n      "Oh! ay," answered Little Red Riding-Hood; "it is beyond that mill you see there, at the first house in the village."\n    </>\n  </>\n  <Paragraph {"id": "{{id}}"}>\n    <Text {"id": "{{id}}"}>\n      "Well," said the Wolf, "and I\'ll go and see her too. I\'ll go this way and you go that, and we shall see who will be there soonest."\n    </>\n  </>\n  <Paragraph {"id": "{{id}}"}>\n    <Text {"id": "{{id}}"}>\n      The Wolf began to run as fast as he could, taking the nearest way, and the little girl went by that farthest about, diverting herself in gathering nuts, running after butterflies, and making nosegays of such little flowers as she met with. The Wolf was not long before he got to the old woman\'s house. He knocked at the door--tap, tap.\n    </>\n  </>\n  <Paragraph {"id": "{{id}}"}>\n    <Text {"id": "{{id}}"}>\n      "Who\'s there?"\n    </>\n  </>\n  <Paragraph {"id": "{{id}}"}>\n    <Text {"id": "{{id}}"}>\n      "Your grandchild, Little Red Riding-Hood," replied the Wolf, counterfeiting her voice; "who has brought you a custard and a little pot of butter sent you by mamma."\n    </>\n  </>\n  <Paragraph {"id": "{{id}}"}>\n    <Text {"id": "{{id}}"}>\n      The good grandmother, who was in bed, because she was somewhat ill, cried out\n    </>\n  </>\n  <Paragraph {"id": "{{id}}"}>\n    <Text {"id": "{{id}}"}>\n      "Pull the bobbin, and the latch will go up."\n    </>\n  </>\n  <Paragraph {"id": "{{id}}"}>\n    <Text {"id": "{{id}}"}>\n      The Wolf pulled the bobbin, and the door opened, and then presently he fell upon the good woman and ate her up in a moment, for it was above three days that he had not touched a bit. He then shut the door and went into the grandmother\'s bed, expecting Little Red Riding- Hood, who came some time afterward and knocked at the door--tap, tap.\n    </>\n  </>\n  <Paragraph {"id": "{{id}}"}>\n    <Text {"id": "{{id}}"}>\n      "Who\'s there?"\n    </>\n  </>\n  <Paragraph {"id": "{{id}}"}>\n    <Text {"id": "{{id}}"}>\n      Little Red Riding-Hood, hearing the big voice of the Wolf, was at first afraid; but believing her grandmother had got a cold and was hoarse, answered:\n    </>\n  </>\n  <Paragraph {"id": "{{id}}"}>\n    <Text {"id": "{{id}}"}>\n      " \'Tis your grandchild, Little Red Riding-Hood, who has brought you a custard and a little pot of butter mamma sends you."\n    </>\n  </>\n  <Paragraph {"id": "{{id}}"}>\n    <Text {"id": "{{id}}"}>\n      The Wolf cried out to her, softening his voice as much as he could:\n    </>\n  </>\n  <Paragraph {"id": "{{id}}"}>\n    <Text {"id": "{{id}}"}>\n      "Pull the bobbin, and the latch will go up."\n    </>\n  </>\n  <Paragraph {"id": "{{id}}"}>\n    <Text {"id": "{{id}}"}>\n      Little Red Riding-Hood pulled the bobbin, and the door opened.\n    </>\n  </>\n  <Paragraph {"id": "{{id}}"}>\n    <Text {"id": "{{id}}"}>\n      The Wolf, seeing her come in, said to her, hiding himself under the bed-clothes:\n    </>\n  </>\n  <Paragraph {"id": "{{id}}"}>\n    <Text {"id": "{{id}}"}>\n      "Put the custard and the little pot of butter upon the stool, and come and lie down with me."\n    </>\n  </>\n  <Paragraph {"id": "{{id}}"}>\n    <Text {"id": "{{id}}"}>\n      Little Red Riding-Hood undressed herself and went into bed, where, being greatly amazed to see how her grandmother looked in her night-clothes, she said to her:\n    </>\n  </>\n  <Paragraph {"id": "{{id}}"}>\n    <Text {"id": "{{id}}"}>\n      "Grandmamma, what great arms you have got!"\n    </>\n  </>\n  <Paragraph {"id": "{{id}}"}>\n    <Text {"id": "{{id}}"}>\n      "That is the better to hug thee, my dear."\n    </>\n  </>\n  <Paragraph {"id": "{{id}}"}>\n    <Text {"id": "{{id}}"}>\n      "Grandmamma, what great legs you have got!"\n    </>\n  </>\n  <Paragraph {"id": "{{id}}"}>\n    <Text {"id": "{{id}}"}>\n      "That is to run the better, my child."\n    </>\n  </>\n  <Paragraph {"id": "{{id}}"}>\n    <Text {"id": "{{id}}"}>\n      "Grandmamma, what great ears you have got!"\n    </>\n  </>\n  <Paragraph {"id": "{{id}}"}>\n    <Text {"id": "{{id}}"}>\n      "That is to hear the better, my child."\n    </>\n  </>\n  <Paragraph {"id": "{{id}}"}>\n    <Text {"id": "{{id}}"}>\n      "Grandmamma, what great eyes you have got!"\n    </>\n  </>\n  <Paragraph {"id": "{{id}}"}>\n    <Text {"id": "{{id}}"}>\n      "It is to see the better, my child."\n    </>\n  </>\n  <Paragraph {"id": "{{id}}"}>\n    <Text {"id": "{{id}}"}>\n      "Grandmamma, what great teeth you have got!"\n    </>\n  </>\n  <Paragraph {"id": "{{id}}"}>\n    <Text {"id": "{{id}}"}>\n      "That is to eat thee up."\n    </>\n  </>\n  <Paragraph {"id": "{{id}}"}>\n    <Text {"id": "{{id}}"}>\n      And, saying these words, this wicked wolf fell upon Little Red Riding-Hood, and ate her all up.\n    </>\n  </>\n</>\n'.split("\n").map(function(t){return t.trim()}).join("").replace(/{{id}}/g,function(){return"".concat(Math.random().toString(36).substring(2))}),g=n(40),y=n.n(g),v=n(28),_=n.n(v),m=n(29),w=n.n(m);function b(){var t=Object(l.a)(["\n    position: absolute;\n    bottom: 8px;\n    left: 9px;\n    right: 9px;\n    height: 3px;\n    background: ",";\n"]);return b=function(){return t},t}function C(){var t=Object(l.a)(["\n    -webkit-appearance: none;\n    border: none;\n    font-size: 12px;\n    font-weight: 500;\n    width: ","px;\n    background: white;\n    border-radius: 3px;\n    padding: 0 9px;\n    outline: none;\n    position: relative;\n    &:hover, &:focus {\n        background: rgba(0, 0, 0, 0.04);\n    }\n    option {\n        color: rgba(0, 0, 0, 0.85);\n    }\n    ","\n"]);return C=function(){return t},t}function O(){var t=Object(l.a)(['\n    flex: 0 0 auto;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 36px;\n    height: 36px;\n    font-size: 18px;\n    position: relative;\n    color: rgba(0, 0, 0, 0.85);\n    background: transparent;\n    padding: 0;\n    border: none;\n    border-radius: 3px;\n    outline: none;\n    &:after {\n        content: "";\n        position: absolute;\n        bottom: 0;\n        left: 3px;\n        right: 3px;\n        height: 3px;\n    }\n    &:hover, &:focus {\n        background: rgba(0, 0, 0, 0.04);\n    }\n    ',"\n    ","\n"]);return O=function(){return t},t}function P(){var t=Object(l.a)(['\n    flex: 0 0 auto;\n    display: flex;\n    border-radius: 4px;\n    padding: 0 6px;\n    position: relative;\n    &::before {\n        content: "";\n        position: absolute;\n        top: 9px;\n        bottom: 9px;\n        left: 0;\n        width: 1px;\n        background: rgba(0, 0, 0, 0.15);\n    }\n    &:last-child {\n        &::after {\n            content: "";\n            position: absolute;\n            top: 9px;\n            bottom: 9px;\n            right: 0;\n            width: 1px;\n            background: rgba(0, 0, 0, 0.15);\n        }\n    }\n']);return P=function(){return t},t}function T(){var t=Object(l.a)(["\n    display: flex;\n    width: 816px;\n    margin: 0 auto;\n"]);return T=function(){return t},t}function N(){var t=Object(l.a)(["\n    padding: 3px 24px;\n    background: white;\n    ","\n"]);return N=function(){return t},t}function M(){var t=Object(l.a)(["\n    height: 42px;\n"]);return M=function(){return t},t}var S=h.a.div(M()),D=h.a.div(N(),function(t){return t.isDocked&&"\n        position: fixed;\n        top: 0;\n        left: 0;\n        right: 0;\n        z-index: 10;\n        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.09);\n    "}),x=h.a.div(T()),E=h.a.div(P()),k=h.a.button(O(),function(t){return t.disabled&&"\n        opacity: 0.45;\n    "},function(t){return t.active&&"\n        color: rgba(255, 0, 0, 1);\n        &:after {\n            background: rgba(255, 0, 0, 1);\n        }\n    "}),A=h.a.select(C(),function(t){return t.width},function(t){return t.disabled&&"\n        opacity: 0.45;\n    "}),j=h.a.div(b(),function(t){return t.color}),L=function(t){function e(){var t,n;Object(u.a)(this,e);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(n=Object(d.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(i)))).top=0,n.ref=r.a.createRef(),n.state={isDocked:!1},n.handleScroll=function(){var t=window.scrollY>=n.top;n.state.isDocked!==t&&n.setState({isDocked:t})},n}return Object(c.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){this.top=this.ref.current.offsetTop,window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var t=this.props.textStyle,e=this.state.isDocked;return r.a.createElement(r.a.Fragment,null,e&&r.a.createElement(S,null),r.a.createElement(D,{ref:this.ref,isDocked:e},r.a.createElement(x,null,r.a.createElement(E,null,r.a.createElement(A,{width:120,value:"Normal",disabled:!t},r.a.createElement("option",{value:"Normal"},"Normal text"),r.a.createElement("option",{value:"Title"},"Title"),r.a.createElement("option",{value:"Subtitle"},"Subtitle"),r.a.createElement("option",{value:"Heading 1"},"Heading 1"),r.a.createElement("option",{value:"Heading 2"},"Heading 2"),r.a.createElement("option",{value:"Heading 3"},"Heading 3"))),r.a.createElement(E,null,r.a.createElement(A,{width:120,value:"Arial",disabled:!t},r.a.createElement("option",{value:"Arial"},"Arial"),r.a.createElement("option",{value:"Calibri"},"Calibri"),r.a.createElement("option",{value:"Comic Sans"},"Comic Sans"),r.a.createElement("option",{value:"Open Sans"},"Open Sans"),r.a.createElement("option",{value:"Roboto"},"Roboto"),r.a.createElement("option",{value:"Times New Roman"},"Times New Roman"),r.a.createElement("option",{value:"Verdana"},"Verdana"))),r.a.createElement(E,null,r.a.createElement(A,{width:60,value:t?"".concat(t.size):"",disabled:!t},r.a.createElement("option",{value:"",style:{display:"hidden"}}),r.a.createElement("option",{value:"10"},"10"),r.a.createElement("option",{value:"12"},"12"),r.a.createElement("option",{value:"14"},"14"),r.a.createElement("option",{value:"16"},"16"),r.a.createElement("option",{value:"18"},"18"),r.a.createElement("option",{value:"24"},"24"),r.a.createElement("option",{value:"30"},"30"),r.a.createElement("option",{value:"36"},"36"),r.a.createElement("option",{value:"42"},"42"))),r.a.createElement(E,null,r.a.createElement(k,{active:!!(t&&null!==t.weight&&t.weight>400),disabled:!t},r.a.createElement("i",{className:"mdi mdi-format-bold"})),r.a.createElement(k,{active:!(!t||!t.italic),disabled:!t},r.a.createElement("i",{className:"mdi mdi-format-italic"})),r.a.createElement(k,{active:!(!t||!t.underline),disabled:!t},r.a.createElement("i",{className:"mdi mdi-format-underline"})),r.a.createElement(k,{active:!(!t||!t.strikethrough),disabled:!t},r.a.createElement("i",{className:"mdi mdi-format-strikethrough-variant"})),r.a.createElement(k,{active:!1,disabled:!t},r.a.createElement("i",{className:"mdi mdi-format-color-text",style:{position:"relative",top:"-2px"}}),r.a.createElement(j,{color:t&&null!==t.color?t.color:"transparent"}))))))}}]),e}(r.a.Component);function z(){var t=Object(l.a)(["\n  text-align: center;\n  .tw--doc {\n    font-family: 'Source Sans Pro', sans-serif;\n    display: inline-block;\n    padding-bottom: 9px;\n    counter-reset: page-counter;\n  }\n  .tw--page {\n    background: rgba(255, 255, 255, 1);\n    margin: 9px auto 0;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);\n    position: relative;\n    &::after {\n      counter-increment: page-counter;\n      content: \"Page \"counter(page-counter)\"\";\n      position: absolute;\n      top: 12px;\n      left: 50%;\n      transform: translateX(-50%);\n      font-size: 10px;\n      font-family: 'Quicksand', sans-serif;\n      font-weight: 500;\n      color: rgba(0, 0, 0, 0.45);\n      pointer-events: none;\n    }\n  }\n  .tw--page *::selection {\n    background: rgba(255, 255, 255, 1);\n  }\n"]);return z=function(){return t},t}function K(){var t=Object(l.a)(["\n"]);return K=function(){return t},t}var R=h.a.div(K()),B=h.a.div(z()),H=function(t){function e(t){var n;return Object(u.a)(this,e),(n=Object(d.a)(this,Object(f.a)(e).call(this,t))).domRef=void 0,n.isTextStyleRefreshQueued=!1,n.domRef=r.a.createRef(),n.state={editor:null,textStyle:null},n}return Object(c.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=this.props.initialMarkup,n=this.domRef.current,o=new g.Config,r=new y.a(o);this.setState({editor:r}),r.getDispatcher().on(w.a,function(e){return t.refreshTextStyle()}),r.getDispatcher().on(_.a,function(e){return t.refreshTextStyle()}),r.start(e,n)}},{key:"render",value:function(){var t=this.state.textStyle;return r.a.createElement(R,null,r.a.createElement(L,{textStyle:t}),r.a.createElement(B,{ref:this.domRef}))}},{key:"refreshTextStyle",value:function(){var t=this;this.isTextStyleRefreshQueued=!0,setTimeout(function(){if(t.isTextStyleRefreshQueued){var e=t.state.editor,n=e.getCursorService(),o=e.getRenderService().getTextStyleBetween(n.getAnchor(),n.getHead());t.setState({textStyle:o}),t.isTextStyleRefreshQueued=!1}})}}]),e}(r.a.Component);function I(){var t=Object(l.a)(["\n  text-transform: uppercase;\n  font-weight: 500;\n  font-size: 14px;\n  color: rgba(0, 0, 0, 0.65);\n  border-top: 1px solid rgba(0, 0, 0, 0.45);\n  padding-top: 10px;\n  cursor: default;\n"]);return I=function(){return t},t}function W(){var t=Object(l.a)(["\n  text-align: center;\n  margin-top: 90px;\n"]);return W=function(){return t},t}function U(){var t=Object(l.a)(["\n  display: inline-block;\n  padding: 15px 60px;\n  outline: none;\n  color: rgba(0, 0, 0, 0.85);\n  text-decoration: none;\n  font-size: 20px;\n  background: transparent;\n  border-radius: 3px;\n  border: 1px solid rgba(0, 0, 0, 0.15);\n  &:hover {\n    color: rgba(0, 0, 0, 1);\n    background: rgba(0, 0, 0, 0.04);\n    border-color: rgba(0, 0, 0, 0.25);\n  }\n"]);return U=function(){return t},t}function F(){var t=Object(l.a)(["\n  margin-top: 90px;\n"]);return F=function(){return t},t}function V(){var t=Object(l.a)(["\n  font-size: 20px;\n  font-weight: 400;\n  color: rgba(0, 0, 0, 0.85);\n  margin: 30px 0 0;\n"]);return V=function(){return t},t}function $(){var t=Object(l.a)(["\n  font-size: 30px;\n  font-weight: 500;\n  color: rgba(0, 0, 0, 0.85);\n  margin: 90px 0 0;\n"]);return $=function(){return t},t}function Q(){var t=Object(l.a)(["\n  color: rgba(0, 0, 0, 0.65);\n  font-size: 42px;\n  letter-spacing: 0.02em;\n  padding-bottom: 10px;\n  border-bottom: 2px solid rgba(0, 0, 0, 0.65);\n"]);return Q=function(){return t},t}function q(){var t=Object(l.a)(["\n"]);return q=function(){return t},t}function G(){var t=Object(l.a)(["\n  text-align: center;\n  padding: 90px 60px 30PX;\n"]);return G=function(){return t},t}function J(){var t=Object(l.a)(["\n"]);return J=function(){return t},t}var Y=h.a.div(J()),X=h.a.div(G()),Z=h.a.div(q()),tt=h.a.span(Q()),et=h.a.h1($()),nt=h.a.h2(V()),ot=h.a.div(F()),rt=h.a.a(U()),it=h.a.div(W()),at=h.a.span(I()),ut=function(t){function e(){return Object(u.a)(this,e),Object(d.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(c.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return r.a.createElement(Y,null,r.a.createElement(X,null,r.a.createElement(Z,null,r.a.createElement(tt,null,"Taleweaver")),r.a.createElement(et,null,"Word processing in your browser."),r.a.createElement(nt,null,"Open source editor delivering true word processing experience."),r.a.createElement(ot,null,r.a.createElement(rt,{href:"https://github.com/yuzhenmi/taleweaver"},"GitHub")),r.a.createElement(it,null,r.a.createElement(at,null,"\u2193 Check it out \u2193"))),r.a.createElement(H,{initialMarkup:p}))}}]),e}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(r.a.createElement(ut,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}],[[69,1,2]]]);
//# sourceMappingURL=main.959301dc.chunk.js.map